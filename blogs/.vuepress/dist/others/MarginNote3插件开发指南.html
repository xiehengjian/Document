<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础 | 白开水</title>
    <meta name="generator" content="VuePress 1.5.3">
    
    <meta name="description" content="个人博客">
    <link rel="preload" href="./assets/css/0.styles.14392dfa.css" as="style"><link rel="preload" href="./assets/js/app.f62bacb3.js" as="script"><link rel="preload" href="./assets/js/2.9c4f61b3.js" as="script"><link rel="preload" href="./assets/js/18.0f24e08b.js" as="script"><link rel="prefetch" href="./assets/js/10.cab1e6f8.js"><link rel="prefetch" href="./assets/js/11.fedf4e1d.js"><link rel="prefetch" href="./assets/js/12.f763e7fd.js"><link rel="prefetch" href="./assets/js/13.9a43ee21.js"><link rel="prefetch" href="./assets/js/14.9085babd.js"><link rel="prefetch" href="./assets/js/15.38c5d028.js"><link rel="prefetch" href="./assets/js/16.aaf776eb.js"><link rel="prefetch" href="./assets/js/17.494c14a2.js"><link rel="prefetch" href="./assets/js/19.3216908d.js"><link rel="prefetch" href="./assets/js/20.369ddbb7.js"><link rel="prefetch" href="./assets/js/21.9068a576.js"><link rel="prefetch" href="./assets/js/3.3bdc9603.js"><link rel="prefetch" href="./assets/js/4.35704a43.js"><link rel="prefetch" href="./assets/js/5.c6643f5b.js"><link rel="prefetch" href="./assets/js/6.ff539ac6.js"><link rel="prefetch" href="./assets/js/7.ffc5087f.js"><link rel="prefetch" href="./assets/js/8.9ce3af14.js"><link rel="prefetch" href="./assets/js/9.370f9ba1.js">
    <link rel="stylesheet" href="./assets/css/0.styles.14392dfa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><!----> <span class="site-name">白开水</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/./" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language" class="dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./language/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/./language/golang/" class="nav-link">
  Golang
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="front-end" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./front-end/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/./front-end/react/" class="nav-link">
  react
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="back-end" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./back-end/django/" class="nav-link">
  Django
</a></li><li class="dropdown-item"><!----> <a href="/./back-end/fastapi/" class="nav-link">
  FastAPI
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="mobile" class="dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./mobile/android/" class="nav-link">
  Android
</a></li><li class="dropdown-item"><!----> <a href="/./mobile/ios/" class="nav-link">
  ios
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="software-test" class="dropdown-title"><span class="title">软件测试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./software-test/Appium/" class="nav-link">
  Appium
</a></li><li class="dropdown-item"><!----> <a href="/./software-test/uiautomator2/" class="nav-link">
  uiautomator2
</a></li></ul></div></div><div class="nav-item"><a href="/./talk/" class="nav-link">
  闲言碎语
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/./" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language" class="dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./language/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/./language/golang/" class="nav-link">
  Golang
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="front-end" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./front-end/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/./front-end/react/" class="nav-link">
  react
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="back-end" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./back-end/django/" class="nav-link">
  Django
</a></li><li class="dropdown-item"><!----> <a href="/./back-end/fastapi/" class="nav-link">
  FastAPI
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="mobile" class="dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./mobile/android/" class="nav-link">
  Android
</a></li><li class="dropdown-item"><!----> <a href="/./mobile/ios/" class="nav-link">
  ios
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="software-test" class="dropdown-title"><span class="title">软件测试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./software-test/Appium/" class="nav-link">
  Appium
</a></li><li class="dropdown-item"><!----> <a href="/./software-test/uiautomator2/" class="nav-link">
  uiautomator2
</a></li></ul></div></div><div class="nav-item"><a href="/./talk/" class="nav-link">
  闲言碎语
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#功能" class="sidebar-link">功能</a></li><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#开发准备" class="sidebar-link">开发准备</a></li><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#目录结构" class="sidebar-link">目录结构</a></li><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#打包与发布" class="sidebar-link">打包与发布</a></li><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#hello-world" class="sidebar-link">Hello World</a></li></ul></li><li><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#生命周期" class="sidebar-link">生命周期</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#foundation" class="sidebar-link">Foundation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#消息广播" class="sidebar-link">消息广播</a></li></ul></li><li><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#marginnote" class="sidebar-link">MarginNote</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#application" class="sidebar-link">Application</a></li><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#notedatabase" class="sidebar-link">NoteDatabase</a></li><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#utility" class="sidebar-link">Utility</a></li><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#sqlite" class="sidebar-link">SQLite</a></li></ul></li><li><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#如何调试" class="sidebar-link">如何调试</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#quartzcore" class="sidebar-link">QuartzCore</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#uikit" class="sidebar-link">UIKit</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#申请官方签名" class="sidebar-link">申请官方签名</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#申请渠道" class="sidebar-link">申请渠道</a></li><li class="sidebar-sub-header"><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#插件签名的权限和功能" class="sidebar-link">插件签名的权限和功能</a></li></ul></li><li><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#常见问题" class="sidebar-link">常见问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/./others/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html#autotitle-剖析" class="sidebar-link">AutoTitle 剖析</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h1> <h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <h3 id="功能"><a href="#功能" class="header-anchor">#</a> 功能</h3> <p>在3.6.7版本之后，我们推出了Marginnote的插件系统。不仅官方可以在不影响主程序的基础上为用户定制功能，开发者们也可以自由发挥，使用JavaScript编写自己的独属插件。这会给应用带来更多的可能性，插件可以实现的功能是强大的，在MarginNote中文论坛的插件版块已经存在了一些优秀的官方插件以及第三方插件，它们受到了许多用户的好评，由此，本文档将向您介绍一些关于MarginNote插件开发的基本知识，以帮助您开发属于自己的MarginNote插件。</p> <h3 id="开发准备"><a href="#开发准备" class="header-anchor">#</a> 开发准备</h3> <p>开发MarginNote3插件不需要安装本地依赖，您需要拉取项目开发所需的工程模板及API头文件：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/MarginNote/Addon.git
</code></pre></div><p>其中<code>API</code>目录下为可用的API接口，<code>Samples</code>目录下为工程实例。</p> <p>推荐您使用<code>Samples</code>下的<code>HelloWorld</code>作为您开发的项目基础。</p> <h3 id="目录结构"><a href="#目录结构" class="header-anchor">#</a> 目录结构</h3> <p>MarginNote3插件在开发过程中，应遵循如下的开发框架，在此基础上可以拓展引入自己需要的资源文件，下面是基础项目的目录结构</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>├── main.js                    # 主要业务实现
├── mnaddon.json               # 插件配置信息
├── pic.png                    # 插件图标         
└── README.md             		 # 插件说明
</code></pre></div><h3 id="打包与发布"><a href="#打包与发布" class="header-anchor">#</a> 打包与发布</h3> <p>进入当前工程目录</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> work_space //假设当前您的work_space目录下存放您编写的main.js等文件
</code></pre></div><p>将插件项目打包</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">zip</span> -r myAddon.mnaddon *  
//myAddon.mnaddon为您的插件名称，其中myAddon可自定义，.mnaddon文件后缀名不可改变
</code></pre></div><p>打开生成后的<code>myAddon.mnaddon</code>文件，即可在MarginNote3中安装此插件</p> <h3 id="hello-world"><a href="#hello-world" class="header-anchor">#</a> Hello World</h3> <p>在此之前您已经获取了相关的资源文件，并且大致了解了MarginNote3插件的工程结构以及打包发布插件的方法，接下来，您将可以利用<code>HelloWorld</code>中的示例代码，制作您的第一个最小化插件，打包并安装至MarginNote3后，它将在MarginNote3开启后在屏幕上弹出 Hello World! 的字样。</p> <blockquote><p>此时您制作的插件是未经官方签名的版本，在启用时会受到MarginNote发出的安全警告，您可以通过申请官方签名来对您插件的安全性进行审核并发放签名。</p></blockquote> <h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <p>每个插件在被加载时都要经过一系列的初始化过程，例如配置提示信息，加载<code>WebViewController</code>等。通过不同的生命周期，开发者可以在不同的阶段来添加自己的代码。</p> <ul><li><p><code>sceneWillConnect</code></p> <p>用于MarginNote开启一个窗口后执行代码</p></li> <li><p><code>sceneDidDisconnect</code></p> <p>用于MarginNote关闭一个窗口后执行代码</p></li> <li><p><code>sceneWillResignActive</code></p> <p>用于MarginNote重新激活一个窗口后执行代码</p></li> <li><p><code>sceneDidBecomeActive</code></p> <p>用于MarginNote激活一个窗口后执行代码</p></li> <li><p><code>notebookWillOpen</code></p> <p>用于MarginNote打开一个笔记本后执行代码</p></li> <li><p><code>notebookWillClose</code></p> <p>用于MarginNote关闭一个笔记本后执行代码</p></li> <li><p><code>documentDidOpen</code></p> <p>用于MarginNote打开一个文档后执行代码</p></li> <li><p><code>documentWillClose</code></p> <p>用于MarginNote关闭一个文档后执行代码</p></li> <li><p><code>queryAddonCommandStatus</code></p></li> <li><p><code>additionalTitleLinksOfNotebook</code></p></li> <li><p><code>viewControllerForTitleLink</code></p></li> <li><p><code>controllerWillLayoutSubviews</code></p></li> <li><p><code>additionalShortcutKeys</code></p></li> <li><p><code>queryShortcutKey</code></p></li> <li><p><code>processShortcutKey</code></p></li> <li></li> <li><p><code>addonDidConnect</code></p></li> <li><p><code>addonWillDisconnect</code></p></li> <li><p><code>applicationDidEnterBackground</code></p></li> <li><p><code>applicationWillEnterForeground</code></p></li> <li><p><code>applicationDidReceiveLocalNotification</code></p></li></ul> <h2 id="foundation"><a href="#foundation" class="header-anchor">#</a> Foundation</h2> <p>Foundation框架是通用的面向对象的函数库，相当于标准库，可以在Mac OS和IOS中使用，它提供数字和字符串，容器如数组、字典和集合，时间管理，内存管理和文件系统等等。数据是构成程序的基石，因此在开发MarginNote插件的过程中，对其提供的数据类型有基本的了解是必要的。不过在实际开发的过程中，您使用的将是JavaScript，我们会使用JSBridge将您的JavaScript代码连接到ObjectIve-C中，因此您仍重点关注的将是JavaScript的数据类型及其语法。</p> <h3 id="消息广播"><a href="#消息广播" class="header-anchor">#</a> 消息广播</h3> <h4 id="添加观察者"><a href="#添加观察者" class="header-anchor">#</a> 添加观察者</h4> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(addObserverSelectorName,
- (void)_addObserver:(id)observer selector:(NSString*)aSelector name:(NSString *)aName);
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>NSNotificationCenter<span class="token punctuation">.</span><span class="token function">defaultCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addObserverSelectorName</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'onProcessExcerptText:'</span><span class="token punctuation">,</span> <span class="token string">'ProcessNewExcerpt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="移除观察者"><a href="#移除观察者" class="header-anchor">#</a> 移除观察者</h4> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(removeObserverName,
- (void)_removeObserver:(id)observer name:(NSString *)aName);
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>NSNotificationCenter<span class="token punctuation">.</span><span class="token function">defaultCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeObserverName</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'ProcessNewExcerpt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="sender"><a href="#sender" class="header-anchor">#</a> Sender</h4> <p>当消息通知生效时，将向设定的函数中传入<code>NSConcreteNotification</code>对象，我们可以通过其<code>userInfo</code>属性获取当前操作所包含的数据内容。</p> <p>一般的，当我们对文档进行操作时，<code>sender.userInfo</code>将包含一个<code>documentController</code>对象，当我们对笔记进行操作时，则<code>sender.userInfo</code>将包含一个<code>note</code>对象</p> <h2 id="marginnote"><a href="#marginnote" class="header-anchor">#</a> MarginNote</h2> <p>MarginNote库中包含了一系列开放的、操作MarginNote3的、用于插件开发的API，通过了解以下的常用API，您可以将基本实现如控制脑图等功能。</p> <h3 id="application"><a href="#application" class="header-anchor">#</a> Application</h3> <h4 id="应用程序-application"><a href="#应用程序-application" class="header-anchor">#</a> 应用程序(<strong>Application</strong>)</h4> <h5 id="创建实例"><a href="#创建实例" class="header-anchor">#</a> 创建实例</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>+ (id&lt;MbAppDelegate&gt;)sharedInstance;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="当前主题"><a href="#当前主题" class="header-anchor">#</a> 当前主题</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) NSString * currentTheme;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>currentTheme<span class="token punctuation">;</span>
</code></pre></div><h5 id="暗背景的默认淡色"><a href="#暗背景的默认淡色" class="header-anchor">#</a> 暗背景的默认淡色</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultTintColorForDarkBackground;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultTintColorForDarkBackground<span class="token punctuation">;</span>
</code></pre></div><h5 id="选定对象的默认淡色"><a href="#选定对象的默认淡色" class="header-anchor">#</a> 选定对象的默认淡色</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultTintColorForSelected;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultTintColorForSelected<span class="token punctuation">;</span>
</code></pre></div><h5 id="默认淡色"><a href="#默认淡色" class="header-anchor">#</a> 默认淡色</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultTintColor;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultTintColor<span class="token punctuation">;</span>
</code></pre></div><h5 id="默认书页颜色"><a href="#默认书页颜色" class="header-anchor">#</a> 默认书页颜色</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultBookPageColor;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultBookPageColor<span class="token punctuation">;</span>
</code></pre></div><h5 id="默认笔记本颜色"><a href="#默认笔记本颜色" class="header-anchor">#</a> 默认笔记本颜色</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultNotebookColor;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultNotebookColor<span class="token punctuation">;</span>
</code></pre></div><h5 id="默认文本颜色"><a href="#默认文本颜色" class="header-anchor">#</a> 默认文本颜色</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultTextColor;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultTextColor<span class="token punctuation">;</span>
</code></pre></div><h5 id="默认禁用颜色"><a href="#默认禁用颜色" class="header-anchor">#</a> 默认禁用颜色</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultDisableColor;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultDisableColor<span class="token punctuation">;</span>
</code></pre></div><h5 id="默认高亮混合颜色"><a href="#默认高亮混合颜色" class="header-anchor">#</a> 默认高亮混合颜色</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultHighlightBlendColor;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultHighlightBlendColor<span class="token punctuation">;</span>
</code></pre></div><h5 id="焦点窗口"><a href="#焦点窗口" class="header-anchor">#</a> 焦点窗口</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=window) UIWindow* focusWindow;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>focusWindow<span class="token punctuation">;</span>
</code></pre></div><h5 id="数据库路径"><a href="#数据库路径" class="header-anchor">#</a> 数据库路径</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) NSString *dbPath;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>dbPath<span class="token punctuation">;</span>
</code></pre></div><h5 id="文档路径"><a href="#文档路径" class="header-anchor">#</a> 文档路径</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) NSString *documentPath;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>documentPath<span class="token punctuation">;</span>
</code></pre></div><h5 id="缓存路径"><a href="#缓存路径" class="header-anchor">#</a> 缓存路径</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) NSString *cachePath;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cachePath<span class="token punctuation">;</span>
</code></pre></div><h5 id="暂存路径"><a href="#暂存路径" class="header-anchor">#</a> 暂存路径</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) NSString *tempPath;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tempPath<span class="token punctuation">;</span>
</code></pre></div><h5 id="系统类型"><a href="#系统类型" class="header-anchor">#</a> 系统类型</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly) NSInteger osType; //0: iPadOS 1: iPhoneOS 2: macOS
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>osType<span class="token punctuation">;</span>
</code></pre></div><h5 id="数据库变更刷新"><a href="#数据库变更刷新" class="header-anchor">#</a> 数据库变更刷新</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)refreshAfterDBChanged:(NSString*)topicid;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">refreshAfterDBChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="窗口中带有键标志的查询命令"><a href="#窗口中带有键标志的查询命令" class="header-anchor">#</a> 窗口中带有键标志的查询命令</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(queryCommandWithKeyFlagsInWindow,
- (NSDictionary*)queryCommandStatus:(NSString*)command withKeyFlags:(NSInteger)keyFlags inWindow:(UIWindow*)window);
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queryCommandWithKeyFlagsInWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="过程命令"><a href="#过程命令" class="header-anchor">#</a> 过程命令</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)processCommand:(NSString*)command withKeyFlags:(NSInteger)keyFlags inWindow:(UIWindow*)window;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">processCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="打开url"><a href="#打开url" class="header-anchor">#</a> 打开URL</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)openURL:(NSURL*)url;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="警告窗"><a href="#警告窗" class="header-anchor">#</a> 警告窗</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)alert:(NSString*)message;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="透明指示层"><a href="#透明指示层" class="header-anchor">#</a> 透明指示层</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>-(void)showHUD:(NSString*)message onView:(UIView*)view withDuration:(double)duration);
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showHUD</span><span class="token punctuation">(</span><span class="token string">&quot;hello world!&quot;</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>window<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="悬停指示层"><a href="#悬停指示层" class="header-anchor">#</a> 悬停指示层</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)waitHUD:(NSString*)message onView:(UIView*)view;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">waitHUD</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="关闭悬停指示层"><a href="#关闭悬停指示层" class="header-anchor">#</a> 关闭悬停指示层</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)stopWaitHUDOnView:(UIView*)view;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stopWaitHUDOnView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="保存文件"><a href="#保存文件" class="header-anchor">#</a> 保存文件</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)saveFile:(NSString*)mfile withUti:(NSString*)uti;
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">saveFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="创建学习控制器"><a href="#创建学习控制器" class="header-anchor">#</a> 创建学习控制器</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(studyController,
- (id&lt;JSBStudyController&gt;)studyboardController:(UIWindow*)window);
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">studyController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="检查当前操作窗口"><a href="#检查当前操作窗口" class="header-anchor">#</a> 检查当前操作窗口</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(checkNotifySenderInWindow,
- (BOOL)checkObject:(id)obj inWindow:(UIWindow*)window);
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">checkNotifySenderInWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="通过统一类型标识符打开文件"><a href="#通过统一类型标识符打开文件" class="header-anchor">#</a> 通过统一类型标识符打开文件</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(openFileWithUTIs,
- (void)openFileWithUTIs:(NSArray&lt;NSString*&gt;*)types viewController:(UIViewController*)controller block:(JSValue*)block);
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openFileWithUTIs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="注册html编辑器"><a href="#注册html编辑器" class="header-anchor">#</a> 注册HTML编辑器</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(regsiterHtmlCommentEditor,
- (void)regsiterHtmlCommentEditor:(NSDictionary*)commentEditor htmlEditor:(JSValue*)htmlEditor htmlRender:(JSValue*)htmlRender withCommentTag:(NSString*)commentTag);
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">regsiterHtmlCommentEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="注销html编辑器"><a href="#注销html编辑器" class="header-anchor">#</a> 注销Html编辑器</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(unregsiterHtmlCommentEditor,
- (void)unregsiterHtmlCommentEditorWithCommentTag:(NSString *)commentTag);
</code></pre></div><p>JavaScript调用示例</p> <div class="language-js extra-class"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unregsiterHtmlCommentEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="文档控制器-documentcontroller"><a href="#文档控制器-documentcontroller" class="header-anchor">#</a> 文档控制器(<strong>DocumentController</strong>)</h4> <h5 id="文档"><a href="#文档" class="header-anchor">#</a> 文档</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=currBook) MbBook* document;
</code></pre></div><h5 id="文档md5"><a href="#文档md5" class="header-anchor">#</a> 文档md5</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=currentBookMd5) NSString* docMd5;
</code></pre></div><h5 id="笔记本id"><a href="#笔记本id" class="header-anchor">#</a> 笔记本ID</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=currTopicId) NSString* notebookId;
</code></pre></div><h5 id="焦点笔记"><a href="#焦点笔记" class="header-anchor">#</a> 焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=focusNote) MbBookNote* focusNote;
</code></pre></div><h5 id="可见焦点笔记"><a href="#可见焦点笔记" class="header-anchor">#</a> 可见焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=visibleFocusNote) MbBookNote* visibleFocusNote;
</code></pre></div><h5 id="选中文本"><a href="#选中文本" class="header-anchor">#</a> 选中文本</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=selectionText) NSString* selectionText;
</code></pre></div><h4 id="脑图结点-mindmapnode"><a href="#脑图结点-mindmapnode" class="header-anchor">#</a> 脑图结点(<strong>MindMapNode</strong>)</h4> <h5 id="笔记"><a href="#笔记" class="header-anchor">#</a> 笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) MbBookNote * note;
</code></pre></div><h5 id="双亲节点"><a href="#双亲节点" class="header-anchor">#</a> 双亲节点</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=parentNote) MindMapNote* parentNode;
</code></pre></div><h5 id="概要链接"><a href="#概要链接" class="header-anchor">#</a> 概要链接</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSArray* summaryLinks;
</code></pre></div><h5 id="子节点"><a href="#子节点" class="header-anchor">#</a> 子节点</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=childNotes) NSArray* childNodes;
</code></pre></div><h5 id="框架"><a href="#框架" class="header-anchor">#</a> 框架</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) CGRect frame;
</code></pre></div><h5 id=""><a href="#" class="header-anchor">#</a></h5> <h4 id="脑图显示-mindmapview"><a href="#脑图显示-mindmapview" class="header-anchor">#</a> 脑图显示(<strong>MindMapView</strong>)</h4> <h5 id="脑图结点"><a href="#脑图结点" class="header-anchor">#</a> 脑图结点</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSArray * mindmapNodes;
</code></pre></div><h5 id="选择视图"><a href="#选择视图" class="header-anchor">#</a> 选择视图</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSArray * selViewLst;
</code></pre></div><h5 id="-2"><a href="#-2" class="header-anchor">#</a></h5> <h4 id="笔记本控制器-notebookcontroller"><a href="#笔记本控制器-notebookcontroller" class="header-anchor">#</a> 笔记本控制器(<strong>NotebookController</strong>)</h4> <h5 id="大纲视图"><a href="#大纲视图" class="header-anchor">#</a> 大纲视图</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) id&lt;JSBOutlineView&gt; outlineView;
</code></pre></div><h5 id="脑图视图"><a href="#脑图视图" class="header-anchor">#</a> 脑图视图</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=noteMindMap) id&lt;JSBMindMapView&gt; mindmapView;
</code></pre></div><h5 id="笔记本id-2"><a href="#笔记本id-2" class="header-anchor">#</a> 笔记本ID</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=currTopic) NSString* notebookId;
</code></pre></div><h5 id="焦点笔记-2"><a href="#焦点笔记-2" class="header-anchor">#</a> 焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=focusNote) MbBookNote* focusNote;
</code></pre></div><h5 id="可见焦点笔记-2"><a href="#可见焦点笔记-2" class="header-anchor">#</a> 可见焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=visibleFocusNote) MbBookNote* visibleFocusNote;
</code></pre></div><h5 id="-3"><a href="#-3" class="header-anchor">#</a></h5> <h4 id="大纲视图-outlineview"><a href="#大纲视图-outlineview" class="header-anchor">#</a> 大纲视图(<strong>OutlineView</strong>)</h4> <h5 id="索引笔记"><a href="#索引笔记" class="header-anchor">#</a> 索引笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (MbBookNote*)noteFromIndexPath:(NSIndexPath*)indexPath;
</code></pre></div><h5 id="-4"><a href="#-4" class="header-anchor">#</a></h5> <h4 id="阅读控制器-readercontroller"><a href="#阅读控制器-readercontroller" class="header-anchor">#</a> 阅读控制器(<strong>ReaderController</strong>)</h4> <h5 id="当前文档控制器"><a href="#当前文档控制器" class="header-anchor">#</a> 当前文档控制器</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=fBookViewController) id&lt;JSBDocumentController&gt; currentDocumentController;
</code></pre></div><h5 id="文档控制器集合"><a href="#文档控制器集合" class="header-anchor">#</a> 文档控制器集合</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic, readonly, getter=bookViewControllers) NSMutableArray* documentControllers;
</code></pre></div><h5 id="-5"><a href="#-5" class="header-anchor">#</a></h5> <h4 id="学习控制器-studycontroller"><a href="#学习控制器-studycontroller" class="header-anchor">#</a> 学习控制器(<strong>StudyController</strong>)</h4> <h5 id="学习模式"><a href="#学习模式" class="header-anchor">#</a> 学习模式</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) int studyMode; //0 &amp; 1: doc mode 2: study mode 3: review mode
</code></pre></div><h5 id="窄模式"><a href="#窄模式" class="header-anchor">#</a> 窄模式</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=isNarrowMode) BOOL narrowMode; //when narrowmode, book split mode 1 is disabled
</code></pre></div><h5 id="文档-脑图分割模式"><a href="#文档-脑图分割模式" class="header-anchor">#</a> 文档-脑图分割模式</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,assign,getter=bookSplitMode,setter=setBookSplitMode:) int docMapSplitMode; //0: all map 1:half map half doc 2: all doc
</code></pre></div><h5 id="右脑图模式"><a href="#右脑图模式" class="header-anchor">#</a> 右脑图模式</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,assign) BOOL rightMapMode;
</code></pre></div><h5 id="笔记本控制器"><a href="#笔记本控制器" class="header-anchor">#</a> 笔记本控制器</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=fSearchViewController) id&lt;JSBNotebookController&gt; notebookController;
</code></pre></div><h5 id="阅读控制器"><a href="#阅读控制器" class="header-anchor">#</a> 阅读控制器</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=detailController) id&lt;JSBReaderController&gt; readerController;
</code></pre></div><h5 id="-6"><a href="#-6" class="header-anchor">#</a></h5> <h5 id="获取脑图焦点笔记"><a href="#获取脑图焦点笔记" class="header-anchor">#</a> 获取脑图焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)focusNoteInMindMapById:(NSString*)noteId;
</code></pre></div><h5 id="获取文档焦点笔记"><a href="#获取文档焦点笔记" class="header-anchor">#</a> 获取文档焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)focusNoteInDocumentById:(NSString*)noteId;
</code></pre></div><h5 id="刷新插件命令"><a href="#刷新插件命令" class="header-anchor">#</a> 刷新插件命令</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)refreshAddonCommands;
</code></pre></div><h5 id="-7"><a href="#-7" class="header-anchor">#</a></h5> <h3 id="notedatabase"><a href="#notedatabase" class="header-anchor">#</a> NoteDatabase</h3> <h4 id="mbbook"><a href="#mbbook" class="header-anchor">#</a> MbBook</h4> <h5 id="当前主题id"><a href="#当前主题id" class="header-anchor">#</a> 当前主题ID</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>currenttopicid<span class="token punctuation">)</span> NSString <span class="token operator">*</span> currentTopicId<span class="token punctuation">;</span>
</code></pre></div><h5 id="上次访问"><a href="#上次访问" class="header-anchor">#</a> 上次访问</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>lastvisit<span class="token punctuation">)</span> NSDate <span class="token operator">*</span> lastVisit<span class="token punctuation">;</span>
</code></pre></div><h5 id="文档md5-2"><a href="#文档md5-2" class="header-anchor">#</a> 文档md5</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>md5real<span class="token punctuation">)</span> NSString <span class="token operator">*</span> docMd5<span class="token punctuation">;</span>
</code></pre></div><h5 id="路径文件"><a href="#路径文件" class="header-anchor">#</a> 路径文件</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSString <span class="token operator">*</span> pathFile<span class="token punctuation">;</span>
</code></pre></div><h5 id="文档标题"><a href="#文档标题" class="header-anchor">#</a> 文档标题</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>bookTitle<span class="token punctuation">)</span> NSString <span class="token operator">*</span> docTitle<span class="token punctuation">;</span>
</code></pre></div><h4 id="mbbooknote"><a href="#mbbooknote" class="header-anchor">#</a> MbBookNote</h4> <h5 id="摘录文本"><a href="#摘录文本" class="header-anchor">#</a> 摘录文本</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readwrite<span class="token punctuation">,</span>getter<span class="token operator">=</span>highlight_text<span class="token punctuation">,</span>setter<span class="token operator">=</span>_setHighlightText<span class="token punctuation">:</span><span class="token punctuation">)</span> NSString <span class="token operator">*</span> excerptText<span class="token punctuation">;</span>
</code></pre></div><h5 id="笔记标题"><a href="#笔记标题" class="header-anchor">#</a> 笔记标题</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readwrite,getter=notetitle,setter=_setNoteTitle:) NSString * noteTitle;
</code></pre></div><h5 id="颜色索引"><a href="#颜色索引" class="header-anchor">#</a> 颜色索引</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readwrite<span class="token punctuation">,</span>getter<span class="token operator">=</span>highStyleColorType<span class="token punctuation">,</span>setter<span class="token operator">=</span>_setHighStyleColorType<span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token keyword">int</span> colorIndex<span class="token punctuation">;</span>
</code></pre></div><h5 id="填充索引"><a href="#填充索引" class="header-anchor">#</a> 填充索引</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readwrite<span class="token punctuation">,</span>getter<span class="token operator">=</span>highStyleFillType<span class="token punctuation">,</span>setter<span class="token operator">=</span>_setHighStyleFillType<span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token keyword">int</span> fillIndex<span class="token punctuation">;</span>
</code></pre></div><h5 id="脑图位置"><a href="#脑图位置" class="header-anchor">#</a> 脑图位置</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readwrite<span class="token punctuation">)</span> CGPoint mindmapPosition<span class="token punctuation">;</span>
</code></pre></div><h5 id="笔记id"><a href="#笔记id" class="header-anchor">#</a> 笔记ID</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>noteid<span class="token punctuation">)</span> NSString <span class="token operator">*</span> noteId<span class="token punctuation">;</span>
</code></pre></div><h5 id="文档md5-3"><a href="#文档md5-3" class="header-anchor">#</a> 文档md5</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>bookmd5<span class="token punctuation">)</span> NSString <span class="token operator">*</span> docMd5<span class="token punctuation">;</span>
</code></pre></div><h5 id="笔记本id-3"><a href="#笔记本id-3" class="header-anchor">#</a> 笔记本ID</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>topicid<span class="token punctuation">)</span> NSString <span class="token operator">*</span> notebookId<span class="token punctuation">;</span>
</code></pre></div><h5 id="开始页"><a href="#开始页" class="header-anchor">#</a> 开始页</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>startpage<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> startPage<span class="token punctuation">;</span>
</code></pre></div><h5 id="结束页"><a href="#结束页" class="header-anchor">#</a> 结束页</h5> <p>Objective-C声明</p> <div class="language-objc extra-class"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>endpage<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> endPage<span class="token punctuation">;</span>
</code></pre></div><h5 id="开始位置"><a href="#开始位置" class="header-anchor">#</a> 开始位置</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=startpos) NSString * startPos;
</code></pre></div><h5 id="结束位置"><a href="#结束位置" class="header-anchor">#</a> 结束位置</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=endpos) NSString * endPos;
</code></pre></div><h5 id="摘录图片"><a href="#摘录图片" class="header-anchor">#</a> 摘录图片</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=highlight_pic) NSDictionary * excerptPic;
</code></pre></div><h5 id="创建数据"><a href="#创建数据" class="header-anchor">#</a> 创建数据</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=highlight_date) NSDate * createDate;
</code></pre></div><h5 id="修改数据"><a href="#修改数据" class="header-anchor">#</a> 修改数据</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=note_date) NSDate * modifiedDate;
</code></pre></div><h5 id="媒体列表"><a href="#媒体列表" class="header-anchor">#</a> 媒体列表</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=media_list) NSString * mediaList;
</code></pre></div><h5 id="原始笔记id"><a href="#原始笔记id" class="header-anchor">#</a> 原始笔记ID</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=evernoteid) NSString * originNoteId;
</code></pre></div><h5 id="脑图分支关闭"><a href="#脑图分支关闭" class="header-anchor">#</a> 脑图分支关闭</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=mindclose) NSNumber * mindmapBranchClose;
</code></pre></div><h5 id="笔记文本"><a href="#笔记文本" class="header-anchor">#</a> 笔记文本</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=notes_text) NSString * notesText;
</code></pre></div><h5 id="笔记组id"><a href="#笔记组id" class="header-anchor">#</a> 笔记组ID</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=groupnoteid) NSString * groupNoteId;
</code></pre></div><h5 id="评论"><a href="#评论" class="header-anchor">#</a> 评论</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=comments) NSArray * comments;
</code></pre></div><h5 id="双亲笔记"><a href="#双亲笔记" class="header-anchor">#</a> 双亲笔记</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) MbBookNote * parentNote;
</code></pre></div><h5 id="链接笔记"><a href="#链接笔记" class="header-anchor">#</a> 链接笔记</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=linkNotes) NSArray * linkedNotes;
</code></pre></div><h5 id="子笔记"><a href="#子笔记" class="header-anchor">#</a> 子笔记</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=childNotes) NSArray * childNotes;
</code></pre></div><h5 id="概要链接-2"><a href="#概要链接-2" class="header-anchor">#</a> 概要链接</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=summaryLinks) NSArray * summaryLinks;
</code></pre></div><h5 id="z-值"><a href="#z-值" class="header-anchor">#</a> Z 值</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSNumber * zLevel;
</code></pre></div><h5 id="隐藏"><a href="#隐藏" class="header-anchor">#</a> 隐藏</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSNumber * hidden;
</code></pre></div><h5 id="toc"><a href="#toc" class="header-anchor">#</a> toc</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSNumber * toc;
</code></pre></div><h5 id="标注"><a href="#标注" class="header-anchor">#</a> 标注</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSNumber * annotation;
</code></pre></div><h5 id="文本头部"><a href="#文本头部" class="header-anchor">#</a> 文本头部</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSNumber * textFirst;
</code></pre></div><h5 id="分组模式"><a href="#分组模式" class="header-anchor">#</a> 分组模式</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSNumber * groupMode;
</code></pre></div><h5 id="卡片"><a href="#卡片" class="header-anchor">#</a> 卡片</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSNumber * flashcard;
</code></pre></div><h5 id="概要"><a href="#概要" class="header-anchor">#</a> 概要</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=hasSummaryLinks) BOOL summary;
</code></pre></div><h5 id="标记"><a href="#标记" class="header-anchor">#</a> 标记</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSNumber * flagged;
</code></pre></div><h5 id="文本高亮"><a href="#文本高亮" class="header-anchor">#</a> 文本高亮</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSDictionary * textHighlight;
</code></pre></div><h5 id="选项"><a href="#选项" class="header-anchor">#</a> 选项</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSDictionary * options;
</code></pre></div><h4 id="mbmodeltool"><a href="#mbmodeltool" class="header-anchor">#</a> MbModelTool</h4> <h5 id="获取笔记本"><a href="#获取笔记本" class="header-anchor">#</a> 获取笔记本</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(getNotebookById,
- (id)getTopicFromId:(NSString*)topicid);
</code></pre></div><h5 id="获取媒体文件"><a href="#获取媒体文件" class="header-anchor">#</a> 获取媒体文件</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(getMediaByHash,
- (NSData*)getMediaFromHash:(NSString*)hash);
</code></pre></div><h5 id="获取笔记"><a href="#获取笔记" class="header-anchor">#</a> 获取笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(getNoteById,
- (id)getNoteFromId:(NSString*)noteid);
</code></pre></div><h5 id="获取文档"><a href="#获取文档" class="header-anchor">#</a> 获取文档</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(getDocumentById,
- (id)getBookFromMd5:(NSString*)md5);
</code></pre></div><h5 id="获取卡片"><a href="#获取卡片" class="header-anchor">#</a> 获取卡片</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(getFlashcardByNoteId,
- (id)getNoteByEvernoteId:(NSString*)noteid topicid:(NSString*)topicid);
</code></pre></div><h5 id="获取卡片-2"><a href="#获取卡片-2" class="header-anchor">#</a> 获取卡片</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(getFlashcardsByNoteId,
- (NSArray*)getNotesByEvernoteId:(NSString*)noteid);
</code></pre></div><h5 id="判断卡片存在"><a href="#判断卡片存在" class="header-anchor">#</a> 判断卡片存在</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(hasFlashcardByNoteId,
- (BOOL)hasNotesForEvernoteId:(NSString*)noteid);
</code></pre></div><h5 id="保存数据库"><a href="#保存数据库" class="header-anchor">#</a> 保存数据库</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)savedb;
</code></pre></div><h5 id="获取所有笔记本"><a href="#获取所有笔记本" class="header-anchor">#</a> 获取所有笔记本</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (NSArray *)allNotebooks;
</code></pre></div><h5 id="获取所有文档"><a href="#获取所有文档" class="header-anchor">#</a> 获取所有文档</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (NSArray*)allDocuments;
</code></pre></div><h5 id="设置笔记本同步"><a href="#设置笔记本同步" class="header-anchor">#</a> 设置笔记本同步</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(setNotebookSyncDirty,
- (void)setTopicDirty:(NSString*)topicid);
</code></pre></div><h5 id="保存历史存档"><a href="#保存历史存档" class="header-anchor">#</a> 保存历史存档</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (NSArray*)saveHistoryArchive:(NSString*)topicid key:(NSString*)key;
</code></pre></div><h5 id="加载历史存档"><a href="#加载历史存档" class="header-anchor">#</a> 加载历史存档</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (NSArray*)loadHistoryArchive:(NSString*)topicid key:(NSString*)key;
</code></pre></div><h5 id="删除笔记本"><a href="#删除笔记本" class="header-anchor">#</a> 删除笔记本</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)deleteBookNote:(NSString*)noteid;
</code></pre></div><h5 id="删除笔记本树"><a href="#删除笔记本树" class="header-anchor">#</a> 删除笔记本树</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)deleteBookNoteTree:(NSString*)noteid;
</code></pre></div><h5 id="克隆笔记"><a href="#克隆笔记" class="header-anchor">#</a> 克隆笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (NSArray*)cloneNotes:(NSArray*)notes toTopic:(NSString*)topicid;
</code></pre></div><h5 id="克隆笔记至卡片"><a href="#克隆笔记至卡片" class="header-anchor">#</a> 克隆笔记至卡片</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (NSArray*)cloneNotesToFlashcards:(NSArray*)notes toTopic:(NSString*)topicid;
</code></pre></div><h5 id="导出笔记本"><a href="#导出笔记本" class="header-anchor">#</a> 导出笔记本</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (BOOL)exportNotebook:(NSString*)topicid storePath:(NSString*)storePath;
</code></pre></div><h5 id="导入笔记本"><a href="#导入笔记本" class="header-anchor">#</a> 导入笔记本</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (id)importNotebookFromStorePath:(NSString*)storePath merge:(BOOL)merge;
</code></pre></div><h4 id="mbtopic"><a href="#mbtopic" class="header-anchor">#</a> MbTopic</h4> <h5 id="标题"><a href="#标题" class="header-anchor">#</a> 标题</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readwrite,setter=setTopicTitle:) NSString * title;
</code></pre></div><h5 id="主题id"><a href="#主题id" class="header-anchor">#</a> 主题ID</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=topicid) NSString * topicId;
</code></pre></div><h5 id="上次访问-2"><a href="#上次访问-2" class="header-anchor">#</a> 上次访问</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=lastvisit) NSDate * lastVisit;
</code></pre></div><h5 id="主文档md5"><a href="#主文档md5" class="header-anchor">#</a> 主文档md5</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=localbookmd5) NSString * mainDocMd5;
</code></pre></div><h5 id="历史数据"><a href="#历史数据" class="header-anchor">#</a> 历史数据</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=historydate) NSDate * historyDate;
</code></pre></div><h5 id="同步模式"><a href="#同步模式" class="header-anchor">#</a> 同步模式</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=syncmode) NSNumber * syncMode;
</code></pre></div><h5 id="分类列表"><a href="#分类列表" class="header-anchor">#</a> 分类列表</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=taglist) NSString * categoryList;
</code></pre></div><h5 id="哈希标签"><a href="#哈希标签" class="header-anchor">#</a> 哈希标签</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSString * hashtags;
</code></pre></div><h5 id="文档列表"><a href="#文档列表" class="header-anchor">#</a> 文档列表</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=booklist) NSString * docList;
</code></pre></div><h5 id="选项-2"><a href="#选项-2" class="header-anchor">#</a> 选项</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSDictionary * options;
</code></pre></div><h5 id="文档集合"><a href="#文档集合" class="header-anchor">#</a> 文档集合</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly,getter=books) NSArray * documents;
</code></pre></div><h5 id="笔记集合"><a href="#笔记集合" class="header-anchor">#</a> 笔记集合</h5> <p>Objective-C声明</p> <div class="language- extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) NSArray * notes;
</code></pre></div><h5 id="隐藏链接"><a href="#隐藏链接" class="header-anchor">#</a> 隐藏链接</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readwrite) BOOL hideLinksInMindMapNode;
</code></pre></div><h3 id="utility"><a href="#utility" class="header-anchor">#</a> Utility</h3> <h4 id="菜单控制器-menucontroller"><a href="#菜单控制器-menucontroller" class="header-anchor">#</a> 菜单控制器(<strong>MenuController</strong>)</h4> <h5 id="菜单表视图"><a href="#菜单表视图" class="header-anchor">#</a> 菜单表视图</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,retain)    UITableView* menuTableView;
</code></pre></div><h5 id="命令表"><a href="#命令表" class="header-anchor">#</a> 命令表</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,retain)    NSArray* commandTable;
</code></pre></div><h5 id="部件"><a href="#部件" class="header-anchor">#</a> 部件</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,retain)    NSArray* sections;
</code></pre></div><h5 id="行高"><a href="#行高" class="header-anchor">#</a> 行高</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,assign)    int rowHeight;
</code></pre></div><h5 id="注水线"><a href="#注水线" class="header-anchor">#</a> 注水线</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,assign)    int secHeight;
</code></pre></div><h5 id="字体尺寸"><a href="#字体尺寸" class="header-anchor">#</a> 字体尺寸</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,assign)    int fontSize;
</code></pre></div><h4 id="-8"><a href="#-8" class="header-anchor">#</a></h4> <h4 id="朗读管理器-speechmanager"><a href="#朗读管理器-speechmanager" class="header-anchor">#</a> 朗读管理器(<strong>SpeechManager</strong>)</h4> <h5 id="开始朗读笔记"><a href="#开始朗读笔记" class="header-anchor">#</a> 开始朗读笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)startSpeechNotes:(NSArray*)notes;
</code></pre></div><h5 id="停止朗读"><a href="#停止朗读" class="header-anchor">#</a> 停止朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)stopSpeech;
</code></pre></div><h5 id="暂停朗读"><a href="#暂停朗读" class="header-anchor">#</a> 暂停朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)pauseSpeech;
</code></pre></div><h5 id="继续朗读"><a href="#继续朗读" class="header-anchor">#</a> 继续朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)continueSpeech;
</code></pre></div><h5 id="前朗读"><a href="#前朗读" class="header-anchor">#</a> 前朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)prevSpeech;
</code></pre></div><h5 id="后朗读"><a href="#后朗读" class="header-anchor">#</a> 后朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)nextSpeech;
</code></pre></div><h5 id="可以回退"><a href="#可以回退" class="header-anchor">#</a> 可以回退</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (BOOL)canPrev;
</code></pre></div><h5 id="可以前进"><a href="#可以前进" class="header-anchor">#</a> 可以前进</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (BOOL)canNext;
</code></pre></div><h5 id="朗读内容"><a href="#朗读内容" class="header-anchor">#</a> 朗读内容</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)playText:(NSString*)text;
</code></pre></div><h5 id="指定语言"><a href="#指定语言" class="header-anchor">#</a> 指定语言</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)playText:(NSString *)text languageTxt:(NSString*)languageTxt;
</code></pre></div><h5 id="朗读中"><a href="#朗读中" class="header-anchor">#</a> 朗读中</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) BOOL speaking;
</code></pre></div><h5 id="暂停朗读-2"><a href="#暂停朗读-2" class="header-anchor">#</a> 暂停朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,readonly) BOOL paused;
</code></pre></div><h5 id="窗口"><a href="#窗口" class="header-anchor">#</a> 窗口</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,weak) UIWindow * sceneWindow;
</code></pre></div><h5 id="语言编码"><a href="#语言编码" class="header-anchor">#</a> 语言编码</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>@property (nonatomic,strong) NSString * languageCode;
</code></pre></div><h4 id="撤销控制"><a href="#撤销控制" class="header-anchor">#</a> 撤销控制</h4> <h5 id="撤销组"><a href="#撤销组" class="header-anchor">#</a> 撤销组</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>JSExportAs(undoGrouping,
- (void)undoGrouping:(NSString*)actionName inNotebook:(NSString*)topicid block:(JSValue*)block);
</code></pre></div><h5 id="撤销"><a href="#撤销" class="header-anchor">#</a> 撤销</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)undo;
</code></pre></div><h5 id="重做"><a href="#重做" class="header-anchor">#</a> 重做</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)redo;
</code></pre></div><h5 id="可以撤销"><a href="#可以撤销" class="header-anchor">#</a> 可以撤销</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (BOOL)canUndo;
</code></pre></div><h5 id="可以重做"><a href="#可以重做" class="header-anchor">#</a> 可以重做</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (BOOL)canRedo;
</code></pre></div><h5 id="清空"><a href="#清空" class="header-anchor">#</a> 清空</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (void)clearAll;
</code></pre></div><h4 id="压缩文件"><a href="#压缩文件" class="header-anchor">#</a> 压缩文件</h4> <h5 id="解压文件"><a href="#解压文件" class="header-anchor">#</a> 解压文件</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>+ (BOOL)unzipFileAtPath:(NSString *)path toDestination:(NSString *)destination;
</code></pre></div><h5 id="解压文件-2"><a href="#解压文件-2" class="header-anchor">#</a> 解压文件</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>+ (BOOL)unzipFileAtPath:(NSString *)path toDestination:(NSString *)destination overwrite:(BOOL)overwrite password:(NSString *)password;
</code></pre></div><h5 id="压缩文件-2"><a href="#压缩文件-2" class="header-anchor">#</a> 压缩文件</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>+ (BOOL)createZipFileAtPath:(NSString *)path withFilesAtPaths:(NSArray *)filenames;
</code></pre></div><h5 id="压缩文件-3"><a href="#压缩文件-3" class="header-anchor">#</a> 压缩文件</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>+ (BOOL)createZipFileAtPath:(NSString *)path withContentsOfDirectory:(NSString *)directoryPath;
</code></pre></div><h5 id="初始化路径"><a href="#初始化路径" class="header-anchor">#</a> 初始化路径</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (id)initWithPath:(NSString *)path;
</code></pre></div><h5 id="打开文件"><a href="#打开文件" class="header-anchor">#</a> 打开文件</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (BOOL)open;
</code></pre></div><h5 id="写入文件"><a href="#写入文件" class="header-anchor">#</a> 写入文件</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (BOOL)writeFile:(NSString *)path;
</code></pre></div><h5 id="写入数据"><a href="#写入数据" class="header-anchor">#</a> 写入数据</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (BOOL)writeData:(NSData *)data filename:(NSString *)filename;
</code></pre></div><h5 id="关闭文件"><a href="#关闭文件" class="header-anchor">#</a> 关闭文件</h5> <p>Objective-C声明</p> <div class="language-objective-c extra-class"><pre class="language-text"><code>- (BOOL)close;
</code></pre></div><h3 id="sqlite"><a href="#sqlite" class="header-anchor">#</a> SQLite</h3> <p>我们不推荐用户直接对SQLite数据库进行操作，因此此处不做过多介绍，若您需要使用相关API，可以在之前下载的API文件中自行查阅。</p> <h1 id="进阶"><a href="#进阶" class="header-anchor">#</a> 进阶</h1> <h2 id="如何调试"><a href="#如何调试" class="header-anchor">#</a> 如何调试</h2> <p>由于目前Apple的安全限制，暂无法使用相关调试工具进行断点调试，现阶段您可以使用如<code>alert</code>、<code>showHUD</code>等方法在屏幕上输出您需要的调试信息。</p> <h2 id="quartzcore"><a href="#quartzcore" class="header-anchor">#</a> QuartzCore</h2> <p>IOS设备给用户的视觉反馈都是基于QuartzCore框架来进行的，利用该框架可以实现一些美观的动画效果，如果您的插件中需要进行UI渲染等，可以自行学习QuartzCore框架</p> <h2 id="uikit"><a href="#uikit" class="header-anchor">#</a> UIKit</h2> <blockquote><p>以下内容摘自<a href="https://developer.apple.com/cn/documentation/uikit/" target="_blank" rel="noopener noreferrer">Apple开发者文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，如果您有兴趣可以前往阅读</p></blockquote> <p>UIKit 框架提供了 iOS 或 Apple tvOS app 所需的基础架构。它提供了用于实施界面的窗口和视图架构，用于向 app 提供多点触控和其他类型输入的事件处理基础架构，以及管理用户、系统和 app 之间互动所需的主运行循环。该框架提供的其他功能包括动画支持、文档支持、绘图和打印支持、当前设备的相关信息、文本管理和显示、搜索支持、辅助功能支持、app 扩展支持和资源管理。</p> <h2 id="申请官方签名"><a href="#申请官方签名" class="header-anchor">#</a> 申请官方签名</h2> <h3 id="申请渠道"><a href="#申请渠道" class="header-anchor">#</a> 申请渠道</h3> <p>请按照规范格式，发送邮件至 <a href="mailto:service@marginnote.com">service@marginnote.com</a> ，技术人员会在72小时内完成审核并予以答复。</p> <blockquote><p>邮件标题：插件签名申请-插件名-论坛ID</p> <p>范例：插件签名申请-MDXdict-Petter1925</p> <p>邮件正文：
1，插件功能描述
2，技术说明</p> <p>邮件附件：以未签名格式打包的mnaddon文件，用于功能测试</p></blockquote> <p>请注意，不规范的邮件格式可能无法被客服系统正确识别。</p> <h3 id="插件签名的权限和功能"><a href="#插件签名的权限和功能" class="header-anchor">#</a> 插件签名的权限和功能</h3> <h4 id="即时向用户推送更新"><a href="#即时向用户推送更新" class="header-anchor">#</a> 即时向用户推送更新</h4> <p>未经认证的插件更新需要用户自行下载覆盖安装新版本，不利于及时修复bug。官方认证后，可通过MN服务器在线向终端用户推送插件升级服务，方便用户及时升级到最新版本。</p> <p><em>说明</em>：后续更新需要重新按上述流程申请签名，但申请同时我们可以提供代为推送更新的服务。（基于新旧签名识别已安装用户，icloud Kit推送）</p> <h4 id="免去额外设置"><a href="#免去额外设置" class="header-anchor">#</a> 免去额外设置</h4> <p>未经认证的插件需要用户额外设置开启“允许加载未经认证的插件”，官方认证后可免除设置并直接安装。</p> <h4 id="关闭弹窗警告"><a href="#关闭弹窗警告" class="header-anchor">#</a> 关闭弹窗警告</h4> <p>未经认证的插件会在用户使用MN时会弹出警示窗口，官方认证后，使用插件则不会弹窗。</p> <h1 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h1> <h2 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h2> <h2 id="autotitle-剖析"><a href="#autotitle-剖析" class="header-anchor">#</a> AutoTitle 剖析</h2></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="./assets/js/app.f62bacb3.js" defer></script><script src="./assets/js/2.9c4f61b3.js" defer></script><script src="./assets/js/18.0f24e08b.js" defer></script>
  </body>
</html>
