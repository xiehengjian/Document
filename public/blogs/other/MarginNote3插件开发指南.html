<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础 | 白开水</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="./favicon.ico">
    <meta name="description" content="The harder you work, the more you love, the luckier you are">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="./assets/css/0.styles.211ca6d9.css" as="style"><link rel="preload" href="./assets/js/app.5c4c847d.js" as="script"><link rel="preload" href="./assets/js/3.81915612.js" as="script"><link rel="preload" href="./assets/js/1.d78e6eed.js" as="script"><link rel="preload" href="./assets/js/41.6e944c07.js" as="script"><link rel="prefetch" href="./assets/js/10.4e90d7c0.js"><link rel="prefetch" href="./assets/js/11.d6d94c06.js"><link rel="prefetch" href="./assets/js/12.0ad285bd.js"><link rel="prefetch" href="./assets/js/13.5368d9d8.js"><link rel="prefetch" href="./assets/js/14.d8d0a2de.js"><link rel="prefetch" href="./assets/js/15.833722e8.js"><link rel="prefetch" href="./assets/js/16.56f4e176.js"><link rel="prefetch" href="./assets/js/17.b42f9c1e.js"><link rel="prefetch" href="./assets/js/18.9751b709.js"><link rel="prefetch" href="./assets/js/19.4c0a272e.js"><link rel="prefetch" href="./assets/js/20.46f87622.js"><link rel="prefetch" href="./assets/js/21.9f7db6ad.js"><link rel="prefetch" href="./assets/js/22.506a4ce1.js"><link rel="prefetch" href="./assets/js/23.8bf9691a.js"><link rel="prefetch" href="./assets/js/24.dd85c273.js"><link rel="prefetch" href="./assets/js/25.919fce03.js"><link rel="prefetch" href="./assets/js/26.c4f3fe06.js"><link rel="prefetch" href="./assets/js/27.6a93549c.js"><link rel="prefetch" href="./assets/js/28.4d0854ad.js"><link rel="prefetch" href="./assets/js/29.2f132c3e.js"><link rel="prefetch" href="./assets/js/30.20a1e147.js"><link rel="prefetch" href="./assets/js/31.ed2a6118.js"><link rel="prefetch" href="./assets/js/32.76c20e5f.js"><link rel="prefetch" href="./assets/js/33.9127bb15.js"><link rel="prefetch" href="./assets/js/34.9882b4e5.js"><link rel="prefetch" href="./assets/js/35.9804dc78.js"><link rel="prefetch" href="./assets/js/36.a5ab25c8.js"><link rel="prefetch" href="./assets/js/37.c5062632.js"><link rel="prefetch" href="./assets/js/38.e1aac4a2.js"><link rel="prefetch" href="./assets/js/39.d409fa63.js"><link rel="prefetch" href="./assets/js/4.39d65b32.js"><link rel="prefetch" href="./assets/js/40.96e15272.js"><link rel="prefetch" href="./assets/js/42.b5f88bd3.js"><link rel="prefetch" href="./assets/js/43.d5289ab6.js"><link rel="prefetch" href="./assets/js/44.6c5d7784.js"><link rel="prefetch" href="./assets/js/45.553b5a34.js"><link rel="prefetch" href="./assets/js/46.68b7ca13.js"><link rel="prefetch" href="./assets/js/47.a9e41de2.js"><link rel="prefetch" href="./assets/js/48.1f0e22c8.js"><link rel="prefetch" href="./assets/js/49.6d5bf593.js"><link rel="prefetch" href="./assets/js/5.95cdea45.js"><link rel="prefetch" href="./assets/js/50.6adc1b3b.js"><link rel="prefetch" href="./assets/js/51.e20e11e4.js"><link rel="prefetch" href="./assets/js/52.cee79181.js"><link rel="prefetch" href="./assets/js/53.208c715f.js"><link rel="prefetch" href="./assets/js/54.c04ef59f.js"><link rel="prefetch" href="./assets/js/55.8106e777.js"><link rel="prefetch" href="./assets/js/56.bc5abc89.js"><link rel="prefetch" href="./assets/js/57.b684a560.js"><link rel="prefetch" href="./assets/js/58.16c23a89.js"><link rel="prefetch" href="./assets/js/59.52231e39.js"><link rel="prefetch" href="./assets/js/6.00aabcc1.js"><link rel="prefetch" href="./assets/js/60.c30638dd.js"><link rel="prefetch" href="./assets/js/61.14c8e107.js"><link rel="prefetch" href="./assets/js/62.4ca07d91.js"><link rel="prefetch" href="./assets/js/63.11adb416.js"><link rel="prefetch" href="./assets/js/64.fd1a52db.js"><link rel="prefetch" href="./assets/js/65.08001bc1.js"><link rel="prefetch" href="./assets/js/66.2445db21.js"><link rel="prefetch" href="./assets/js/67.0f239bb8.js"><link rel="prefetch" href="./assets/js/68.b74d27d9.js"><link rel="prefetch" href="./assets/js/69.9fee601a.js"><link rel="prefetch" href="./assets/js/7.de697a5f.js"><link rel="prefetch" href="./assets/js/70.13f57cab.js"><link rel="prefetch" href="./assets/js/71.8c5548c8.js"><link rel="prefetch" href="./assets/js/72.37d57a2d.js"><link rel="prefetch" href="./assets/js/73.69f7df7d.js"><link rel="prefetch" href="./assets/js/74.b15c0c64.js"><link rel="prefetch" href="./assets/js/75.32d59cca.js"><link rel="prefetch" href="./assets/js/76.21fdad9e.js"><link rel="prefetch" href="./assets/js/77.c97f8671.js"><link rel="prefetch" href="./assets/js/78.95986951.js"><link rel="prefetch" href="./assets/js/79.b4e13735.js"><link rel="prefetch" href="./assets/js/8.4e2ec9d0.js"><link rel="prefetch" href="./assets/js/80.c189a93b.js"><link rel="prefetch" href="./assets/js/81.4f20590a.js"><link rel="prefetch" href="./assets/js/82.167ec593.js"><link rel="prefetch" href="./assets/js/83.e94d499d.js"><link rel="prefetch" href="./assets/js/84.0168ff7a.js"><link rel="prefetch" href="./assets/js/85.1b5dc9fb.js"><link rel="prefetch" href="./assets/js/86.2705c99b.js"><link rel="prefetch" href="./assets/js/87.50d9591c.js"><link rel="prefetch" href="./assets/js/88.0679eac4.js"><link rel="prefetch" href="./assets/js/89.67ff718a.js"><link rel="prefetch" href="./assets/js/9.02c22cc6.js"><link rel="prefetch" href="./assets/js/90.cdc32a89.js"><link rel="prefetch" href="./assets/js/91.cb66e6f0.js"><link rel="prefetch" href="./assets/js/92.0b506c9b.js"><link rel="prefetch" href="./assets/js/93.03ea91ec.js"><link rel="prefetch" href="./assets/js/94.4540de8e.js"><link rel="prefetch" href="./assets/js/95.aff4cba1.js"><link rel="prefetch" href="./assets/js/96.beb6d846.js">
    <link rel="stylesheet" href="./assets/css/0.styles.211ca6d9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-dad8a512><div data-v-dad8a512><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-dad8a512 data-v-dad8a512><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-dad8a512 data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>白开水</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>白开水</span>
            
          <!---->
          2020
        </a></span></div></div> <div class="hide" data-v-dad8a512><header class="navbar" data-v-dad8a512><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><img src="./logo.png" alt="白开水" class="logo"> <span class="site-name">白开水</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/./" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/./timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      编程语言
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./docs/language/python/" class="nav-link"><i class="iconfont undefined"></i>
  Python
</a></li><li class="dropdown-item"><!----> <a href="/./docs/language/golang/" class="nav-link"><i class="iconfont undefined"></i>
  Golang
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./docs/front-end/vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/./docs/front-end/react/" class="nav-link"><i class="iconfont undefined"></i>
  react
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      后端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./docs/back-end/django/" class="nav-link"><i class="iconfont undefined"></i>
  Django
</a></li><li class="dropdown-item"><!----> <a href="/./docs/back-end/fastapi/" class="nav-link"><i class="iconfont undefined"></i>
  FastAPI
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      移动端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./docs/mobile/android/" class="nav-link"><i class="iconfont undefined"></i>
  Android
</a></li><li class="dropdown-item"><!----> <a href="/./docs/mobile/ios/" class="nav-link"><i class="iconfont undefined"></i>
  ios
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      软件测试
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./docs/software-test/Appium/" class="nav-link"><i class="iconfont undefined"></i>
  Appium
</a></li><li class="dropdown-item"><!----> <a href="/./docs/software-test/uiautomator2/" class="nav-link"><i class="iconfont undefined"></i>
  uiautomator2
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/xiehengjian" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_19978927" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/bai-kai-shui-68-33/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-zhihu"></i>
  知乎
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/8238d75b6623" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-dad8a512></div> <aside class="sidebar" data-v-dad8a512><div class="personal-info-wrapper" data-v-ca798c94 data-v-dad8a512><img src="./avatar.png" alt="author-avatar" class="personal-img" data-v-ca798c94> <h3 class="name" data-v-ca798c94>
    白开水
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>13</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>9</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/./" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/./timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      编程语言
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./docs/language/python/" class="nav-link"><i class="iconfont undefined"></i>
  Python
</a></li><li class="dropdown-item"><!----> <a href="/./docs/language/golang/" class="nav-link"><i class="iconfont undefined"></i>
  Golang
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./docs/front-end/vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/./docs/front-end/react/" class="nav-link"><i class="iconfont undefined"></i>
  react
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      后端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./docs/back-end/django/" class="nav-link"><i class="iconfont undefined"></i>
  Django
</a></li><li class="dropdown-item"><!----> <a href="/./docs/back-end/fastapi/" class="nav-link"><i class="iconfont undefined"></i>
  FastAPI
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      移动端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./docs/mobile/android/" class="nav-link"><i class="iconfont undefined"></i>
  Android
</a></li><li class="dropdown-item"><!----> <a href="/./docs/mobile/ios/" class="nav-link"><i class="iconfont undefined"></i>
  ios
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      软件测试
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./docs/software-test/Appium/" class="nav-link"><i class="iconfont undefined"></i>
  Appium
</a></li><li class="dropdown-item"><!----> <a href="/./docs/software-test/uiautomator2/" class="nav-link"><i class="iconfont undefined"></i>
  uiautomator2
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/xiehengjian" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_19978927" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/bai-kai-shui-68-33/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-zhihu"></i>
  知乎
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/8238d75b6623" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e></h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>白开水</span>
            
          <!---->
          2020
        </a></span></div></div> <div data-v-dad8a512><main class="page"><div class="page-title" style="display:none;"><h1>基础</h1> <div data-v-3b7f5bdf><i class="iconfont reco-account" data-v-3b7f5bdf><span data-v-3b7f5bdf>白开水</span></i> <!----> <i class="iconfont reco-eye" data-v-3b7f5bdf><span id="./blogs/other/MarginNote3%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-3b7f5bdf><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h1> <h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <h3 id="功能"><a href="#功能" class="header-anchor">#</a> 功能</h3> <p>在3.6.7版本之后，我们推出了Marginnote的插件系统。不仅官方可以在不影响主程序的基础上为用户定制功能，开发者们也可以自由发挥，使用JavaScript编写自己的独属插件。这会给应用带来更多的可能性，插件可以实现的功能是强大的，在MarginNote中文论坛的插件版块已经存在了一些优秀的官方插件以及第三方插件，它们受到了许多用户的好评，由此，本文档将向您介绍一些关于MarginNote插件开发的基本知识，以帮助您开发属于自己的MarginNote插件。</p> <h3 id="开发准备"><a href="#开发准备" class="header-anchor">#</a> 开发准备</h3> <p>开发MarginNote3插件不需要安装本地依赖，您需要拉取项目开发所需的工程模板及API头文件：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/MarginNote/Addon.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中<code>API</code>目录下为可用的API接口，<code>Samples</code>目录下为工程实例。</p> <p>推荐您使用<code>Samples</code>下的<code>HelloWorld</code>作为您开发的项目基础。</p> <h3 id="目录结构"><a href="#目录结构" class="header-anchor">#</a> 目录结构</h3> <p>MarginNote3插件在开发过程中，应遵循如下的开发框架，在此基础上可以拓展引入自己需要的资源文件，下面是基础项目的目录结构</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>├── main.js                    # 主要业务实现
├── mnaddon.json               # 插件配置信息
├── pic.png                    # 插件图标         
└── README.md             		 # 插件说明
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="打包与发布"><a href="#打包与发布" class="header-anchor">#</a> 打包与发布</h3> <p>进入当前工程目录</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> work_space //假设当前您的work_space目录下存放您编写的main.js等文件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将插件项目打包</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">zip</span> -r myAddon.mnaddon *  
//myAddon.mnaddon为您的插件名称，其中myAddon可自定义，.mnaddon文件后缀名不可改变
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>打开生成后的<code>myAddon.mnaddon</code>文件，即可在MarginNote3中安装此插件</p> <h3 id="hello-world"><a href="#hello-world" class="header-anchor">#</a> Hello World</h3> <p>在此之前您已经获取了相关的资源文件，并且大致了解了MarginNote3插件的工程结构以及打包发布插件的方法，接下来，您将可以利用<code>HelloWorld</code>中的示例代码，制作您的第一个最小化插件，打包并安装至MarginNote3后，它将在MarginNote3开启后在屏幕上弹出 Hello World! 的字样。</p> <blockquote><p>此时您制作的插件是未经官方签名的版本，在启用时会受到MarginNote发出的安全警告，您可以通过申请官方签名来对您插件的安全性进行审核并发放签名。</p></blockquote> <h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <p>每个插件在被加载时都要经过一系列的初始化过程，例如配置提示信息，加载<code>WebViewController</code>等。通过不同的生命周期，开发者可以在不同的阶段来添加自己的代码。</p> <h3 id="实例"><a href="#实例" class="header-anchor">#</a> 实例</h3> <ul><li><p><code>sceneWillConnect</code></p> <p>用于MarginNote开启一个窗口后执行代码</p></li> <li><p><code>sceneDidDisconnect</code></p> <p>用于MarginNote关闭一个窗口后执行代码</p></li> <li><p><code>sceneWillResignActive</code></p> <p>用于MarginNote重新激活一个窗口后执行代码</p></li> <li><p><code>sceneDidBecomeActive</code></p> <p>用于MarginNote激活一个窗口后执行代码</p></li> <li><p><code>notebookWillOpen</code></p> <p>用于MarginNote打开一个笔记本后执行代码</p></li> <li><p><code>notebookWillClose</code></p> <p>用于MarginNote关闭一个笔记本后执行代码</p></li> <li><p><code>documentDidOpen</code></p> <p>用于MarginNote打开一个文档后执行代码</p></li> <li><p><code>documentWillClose</code></p> <p>用于MarginNote关闭一个文档后执行代码</p></li> <li><p><code>queryAddonCommandStatus</code></p> <p>查询插件命令状态</p></li></ul> <h3 id="类"><a href="#类" class="header-anchor">#</a> 类</h3> <ul><li><p><code>addonDidConnect</code></p> <p>插件加载完毕</p></li> <li><p><code>addonWillDisconnect</code></p> <p>插件关闭</p></li> <li><p><code>applicationDidEnterBackground</code></p> <p>应用进入后台</p></li> <li><p><code>applicationWillEnterForeground</code></p> <p>应用进入前台</p></li> <li><p><code>applicationDidReceiveLocalNotification</code></p> <p>应用程序收到本地通知</p></li></ul> <h2 id="objective-c-or-javascript"><a href="#objective-c-or-javascript" class="header-anchor">#</a> Objective-C or JavaScript?</h2> <p>众所周知，Apple的应用程序都是使用<code>Objective-C</code>或者<code>Swift</code>来开发的，因此MarginNote3的插件虽然选择了<code>JavaScript</code>作为开发语言，本质上是通过Apple提供的工具来调用<code>Objective-C</code>所实现的。因此在接下来的API说明中，您会发现我们均提供了相关的<code>Objective-C</code>的声明代码。</p> <p>不过在实际开发的过程中，您使用的将是JavaScript，我们会使用JSBridge将您的JavaScript代码连接到ObjectIve-C中，因此您仍重点关注的将是JavaScript的数据类型及其语法，而不是具体的转换过程。</p> <p>在开始的API说明中，我们会同时附上<code>Objective-C</code>的声明代码以及对应的<code>JavaScript</code>的调用示例，您会发现他们之间的联系并不复杂，<code>Objective-C</code>定义了一些类以及类中的属性与方法，当您需要使用时，您只需要用<code>JavaScript</code>的方式来为这些类创建实例并调用属性及方法。</p> <p>例如，我们可以通过以下方式来获得MarginNote3当前的颜色主题</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>currentTheme<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>该属性使用<code>Objective-C</code>声明在Application类中，其中相关的有如下两条语句</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token operator">+</span> <span class="token punctuation">(</span>id<span class="token operator">&lt;</span>MbAppDelegate<span class="token operator">&gt;</span><span class="token punctuation">)</span>sharedInstance<span class="token punctuation">;</span> <span class="token comment">//类方法，返回一个实例</span>

<span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> readonly<span class="token punctuation">)</span> NSString <span class="token operator">*</span> currentTheme<span class="token punctuation">;</span><span class="token comment">//属性</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在<code>JavaScript</code>或其他面向对象的编程语言中，我们都知道调用属性是需要先创建一个实例的，通常我们都会使用<code>new</code>关键字来创建类的实例，而在<code>Objective-C</code>中，我们为相关的类声明了一些类方法，或者您愿意称其为静态方法，该方法是通过类名直接调用的。所以我们在<code>JavaScript</code>代码中写入如下语句</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>即调用<code>Application</code>中的<code>sharedInstance()</code>方法，该方法会返回一个类的实例，换而言之，使用上述代码等同于使用<code>new</code>来创建一个实例。</p> <p>因此，当我们有了实例之后，便可以去调用一类实例属性和实例方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>currentTheme<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>那么上面的代码便不难理解，先是使用了<code>Application.sharedInstance()</code>获取实例，再去调用<code>currentTheme</code>属性。</p> <p>所以，您只需要关注<code>Objective-C</code>中定义了哪些类，以及这些类中有哪些方法可以获得实例，最后便使用实例去调用类中定义好的方法与属性即可，您并不需要对<code>Objective-C</code>本身过于关心。</p> <h2 id="foundation"><a href="#foundation" class="header-anchor">#</a> Foundation</h2> <p>Foundation框架是通用的面向对象的函数库，相当于标准库，可以在Mac OS和IOS中使用，它提供数字和字符串，容器如数组、字典和集合，时间管理，内存管理和文件系统等等。数据是构成程序的基石，因此在开发MarginNote插件的过程中，对其提供的数据类型有基本的了解是必要的。</p> <h3 id="消息广播"><a href="#消息广播" class="header-anchor">#</a> 消息广播</h3> <h4 id="添加观察者"><a href="#添加观察者" class="header-anchor">#</a> 添加观察者</h4> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(addObserverSelectorName,
- (void)_addObserver:(id)observer selector:(NSString*)aSelector name:(NSString *)aName);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>NSNotificationCenter<span class="token punctuation">.</span><span class="token function">defaultCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addObserverSelectorName</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'onProcessExcerptText:'</span><span class="token punctuation">,</span> <span class="token string">'ProcessNewExcerpt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="移除观察者"><a href="#移除观察者" class="header-anchor">#</a> 移除观察者</h4> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(removeObserverName,
- (void)_removeObserver:(id)observer name:(NSString *)aName);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>NSNotificationCenter<span class="token punctuation">.</span><span class="token function">defaultCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeObserverName</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'ProcessNewExcerpt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="sender"><a href="#sender" class="header-anchor">#</a> Sender</h4> <p>当消息通知生效时，将向设定的函数中传入<code>NSConcreteNotification</code>对象，我们可以通过其<code>userInfo</code>属性获取当前操作所包含的数据内容。</p> <p>一般的，当我们对文档进行操作时，<code>sender.userInfo</code>将包含一个<code>documentController</code>对象，当我们对笔记进行操作时，则<code>sender.userInfo</code>将包含一个<code>note</code>对象</p> <h2 id="marginnote"><a href="#marginnote" class="header-anchor">#</a> MarginNote</h2> <p>MarginNote库中包含了一系列开放的、操作MarginNote3的、用于插件开发的API，通过了解以下的常用API，您可以将基本实现如控制脑图等功能。</p> <h3 id="application"><a href="#application" class="header-anchor">#</a> Application</h3> <h4 id="应用程序-application"><a href="#应用程序-application" class="header-anchor">#</a> 应用程序(<strong>Application</strong>)</h4> <h5 id="创建实例"><a href="#创建实例" class="header-anchor">#</a> 创建实例</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>+ (id&lt;MbAppDelegate&gt;)sharedInstance;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="当前主题"><a href="#当前主题" class="header-anchor">#</a> 当前主题</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) NSString * currentTheme;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>currentTheme<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="暗背景的默认淡色"><a href="#暗背景的默认淡色" class="header-anchor">#</a> 暗背景的默认淡色</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultTintColorForDarkBackground;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultTintColorForDarkBackground<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="选定对象的默认淡色"><a href="#选定对象的默认淡色" class="header-anchor">#</a> 选定对象的默认淡色</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultTintColorForSelected;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultTintColorForSelected<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="默认淡色"><a href="#默认淡色" class="header-anchor">#</a> 默认淡色</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultTintColor;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultTintColor<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="默认书页颜色"><a href="#默认书页颜色" class="header-anchor">#</a> 默认书页颜色</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultBookPageColor;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultBookPageColor<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="默认笔记本颜色"><a href="#默认笔记本颜色" class="header-anchor">#</a> 默认笔记本颜色</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultNotebookColor;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultNotebookColor<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="默认文本颜色"><a href="#默认文本颜色" class="header-anchor">#</a> 默认文本颜色</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultTextColor;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultTextColor<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="默认禁用颜色"><a href="#默认禁用颜色" class="header-anchor">#</a> 默认禁用颜色</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultDisableColor;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultDisableColor<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="默认高亮混合颜色"><a href="#默认高亮混合颜色" class="header-anchor">#</a> 默认高亮混合颜色</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) UIColor* defaultHighlightBlendColor;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>defaultHighlightBlendColor<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="焦点窗口"><a href="#焦点窗口" class="header-anchor">#</a> 焦点窗口</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=window) UIWindow* focusWindow;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>focusWindow<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="数据库路径"><a href="#数据库路径" class="header-anchor">#</a> 数据库路径</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) NSString *dbPath;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>dbPath<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="文档路径"><a href="#文档路径" class="header-anchor">#</a> 文档路径</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) NSString *documentPath;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>documentPath<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="缓存路径"><a href="#缓存路径" class="header-anchor">#</a> 缓存路径</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) NSString *cachePath;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cachePath<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="暂存路径"><a href="#暂存路径" class="header-anchor">#</a> 暂存路径</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) NSString *tempPath;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tempPath<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="系统类型"><a href="#系统类型" class="header-anchor">#</a> 系统类型</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly) NSInteger osType; //0: iPadOS 1: iPhoneOS 2: macOS
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>osType<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="数据库变更刷新"><a href="#数据库变更刷新" class="header-anchor">#</a> 数据库变更刷新</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)refreshAfterDBChanged:(NSString*)topicid;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">refreshAfterDBChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="窗口中带有键标志的查询命令"><a href="#窗口中带有键标志的查询命令" class="header-anchor">#</a> 窗口中带有键标志的查询命令</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(queryCommandWithKeyFlagsInWindow,
- (NSDictionary*)queryCommandStatus:(NSString*)command withKeyFlags:(NSInteger)keyFlags inWindow:(UIWindow*)window);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queryCommandWithKeyFlagsInWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="过程命令"><a href="#过程命令" class="header-anchor">#</a> 过程命令</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)processCommand:(NSString*)command withKeyFlags:(NSInteger)keyFlags inWindow:(UIWindow*)window;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">processCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="打开url"><a href="#打开url" class="header-anchor">#</a> 打开URL</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)openURL:(NSURL*)url;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="警告窗"><a href="#警告窗" class="header-anchor">#</a> 警告窗</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)alert:(NSString*)message;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="透明指示层"><a href="#透明指示层" class="header-anchor">#</a> 透明指示层</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>-(void)showHUD:(NSString*)message onView:(UIView*)view withDuration:(double)duration);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showHUD</span><span class="token punctuation">(</span><span class="token string">&quot;hello world!&quot;</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>window<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="悬停指示层"><a href="#悬停指示层" class="header-anchor">#</a> 悬停指示层</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)waitHUD:(NSString*)message onView:(UIView*)view;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">waitHUD</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="关闭悬停指示层"><a href="#关闭悬停指示层" class="header-anchor">#</a> 关闭悬停指示层</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)stopWaitHUDOnView:(UIView*)view;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stopWaitHUDOnView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="保存文件"><a href="#保存文件" class="header-anchor">#</a> 保存文件</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)saveFile:(NSString*)mfile withUti:(NSString*)uti;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">saveFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="创建学习控制器"><a href="#创建学习控制器" class="header-anchor">#</a> 创建学习控制器</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(studyController,
- (id&lt;JSBStudyController&gt;)studyboardController:(UIWindow*)window);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">studyController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="检查当前操作窗口"><a href="#检查当前操作窗口" class="header-anchor">#</a> 检查当前操作窗口</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(checkNotifySenderInWindow,
- (BOOL)checkObject:(id)obj inWindow:(UIWindow*)window);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">checkNotifySenderInWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="通过统一类型标识符打开文件"><a href="#通过统一类型标识符打开文件" class="header-anchor">#</a> 通过统一类型标识符打开文件</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(openFileWithUTIs,
- (void)openFileWithUTIs:(NSArray&lt;NSString*&gt;*)types viewController:(UIViewController*)controller block:(JSValue*)block);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openFileWithUTIs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="注册html编辑器"><a href="#注册html编辑器" class="header-anchor">#</a> 注册HTML编辑器</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(regsiterHtmlCommentEditor,
- (void)regsiterHtmlCommentEditor:(NSDictionary*)commentEditor htmlEditor:(JSValue*)htmlEditor htmlRender:(JSValue*)htmlRender withCommentTag:(NSString*)commentTag);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">regsiterHtmlCommentEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="注销html编辑器"><a href="#注销html编辑器" class="header-anchor">#</a> 注销Html编辑器</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(unregsiterHtmlCommentEditor,
- (void)unregsiterHtmlCommentEditorWithCommentTag:(NSString *)commentTag);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>JavaScript调用示例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unregsiterHtmlCommentEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="文档控制器-documentcontroller"><a href="#文档控制器-documentcontroller" class="header-anchor">#</a> 文档控制器(<strong>DocumentController</strong>)</h4> <h5 id="文档"><a href="#文档" class="header-anchor">#</a> 文档</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=currBook) MbBook* document;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="文档md5"><a href="#文档md5" class="header-anchor">#</a> 文档md5</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=currentBookMd5) NSString* docMd5;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="笔记本id"><a href="#笔记本id" class="header-anchor">#</a> 笔记本ID</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=currTopicId) NSString* notebookId;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="焦点笔记"><a href="#焦点笔记" class="header-anchor">#</a> 焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=focusNote) MbBookNote* focusNote;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="可见焦点笔记"><a href="#可见焦点笔记" class="header-anchor">#</a> 可见焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=visibleFocusNote) MbBookNote* visibleFocusNote;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="选中文本"><a href="#选中文本" class="header-anchor">#</a> 选中文本</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=selectionText) NSString* selectionText;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="脑图结点-mindmapnode"><a href="#脑图结点-mindmapnode" class="header-anchor">#</a> 脑图结点(<strong>MindMapNode</strong>)</h4> <h5 id="笔记"><a href="#笔记" class="header-anchor">#</a> 笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly) MbBookNote * note;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="双亲节点"><a href="#双亲节点" class="header-anchor">#</a> 双亲节点</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly,getter=parentNote) MindMapNote* parentNode;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="概要链接"><a href="#概要链接" class="header-anchor">#</a> 概要链接</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly) NSArray* summaryLinks;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="子节点"><a href="#子节点" class="header-anchor">#</a> 子节点</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly,getter=childNotes) NSArray* childNodes;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="框架"><a href="#框架" class="header-anchor">#</a> 框架</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly) CGRect frame;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id=""><a href="#" class="header-anchor">#</a></h5> <h4 id="脑图显示-mindmapview"><a href="#脑图显示-mindmapview" class="header-anchor">#</a> 脑图显示(<strong>MindMapView</strong>)</h4> <h5 id="脑图结点"><a href="#脑图结点" class="header-anchor">#</a> 脑图结点</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly) NSArray * mindmapNodes;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="选择视图"><a href="#选择视图" class="header-anchor">#</a> 选择视图</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly) NSArray * selViewLst;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="笔记本控制器-notebookcontroller"><a href="#笔记本控制器-notebookcontroller" class="header-anchor">#</a> 笔记本控制器(<strong>NotebookController</strong>)</h4> <h5 id="大纲视图"><a href="#大纲视图" class="header-anchor">#</a> 大纲视图</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly) id&lt;JSBOutlineView&gt; outlineView;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="脑图视图"><a href="#脑图视图" class="header-anchor">#</a> 脑图视图</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly,getter=noteMindMap) id&lt;JSBMindMapView&gt; mindmapView;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="笔记本id-2"><a href="#笔记本id-2" class="header-anchor">#</a> 笔记本ID</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=currTopic) NSString* notebookId;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="焦点笔记-2"><a href="#焦点笔记-2" class="header-anchor">#</a> 焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=focusNote) MbBookNote* focusNote;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="可见焦点笔记-2"><a href="#可见焦点笔记-2" class="header-anchor">#</a> 可见焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=visibleFocusNote) MbBookNote* visibleFocusNote;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="大纲视图-outlineview"><a href="#大纲视图-outlineview" class="header-anchor">#</a> 大纲视图(<strong>OutlineView</strong>)</h4> <h5 id="索引笔记"><a href="#索引笔记" class="header-anchor">#</a> 索引笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (MbBookNote*)noteFromIndexPath:(NSIndexPath*)indexPath;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="阅读控制器-readercontroller"><a href="#阅读控制器-readercontroller" class="header-anchor">#</a> 阅读控制器(<strong>ReaderController</strong>)</h4> <h5 id="当前文档控制器"><a href="#当前文档控制器" class="header-anchor">#</a> 当前文档控制器</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=fBookViewController) id&lt;JSBDocumentController&gt; currentDocumentController;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="文档控制器集合"><a href="#文档控制器集合" class="header-anchor">#</a> 文档控制器集合</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, readonly, getter=bookViewControllers) NSMutableArray* documentControllers;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="学习控制器-studycontroller"><a href="#学习控制器-studycontroller" class="header-anchor">#</a> 学习控制器(<strong>StudyController</strong>)</h4> <h5 id="学习模式"><a href="#学习模式" class="header-anchor">#</a> 学习模式</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly) int studyMode; //0 &amp; 1: doc mode 2: study mode 3: review mode
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="窄模式"><a href="#窄模式" class="header-anchor">#</a> 窄模式</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly,getter=isNarrowMode) BOOL narrowMode; //when narrowmode, book split mode 1 is disabled
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="文档-脑图分割模式"><a href="#文档-脑图分割模式" class="header-anchor">#</a> 文档-脑图分割模式</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,assign,getter=bookSplitMode,setter=setBookSplitMode:) int docMapSplitMode; //0: all map 1:half map half doc 2: all doc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="右脑图模式"><a href="#右脑图模式" class="header-anchor">#</a> 右脑图模式</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,assign) BOOL rightMapMode;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="笔记本控制器"><a href="#笔记本控制器" class="header-anchor">#</a> 笔记本控制器</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly,getter=fSearchViewController) id&lt;JSBNotebookController&gt; notebookController;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="阅读控制器"><a href="#阅读控制器" class="header-anchor">#</a> 阅读控制器</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly,getter=detailController) id&lt;JSBReaderController&gt; readerController;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="获取脑图焦点笔记"><a href="#获取脑图焦点笔记" class="header-anchor">#</a> 获取脑图焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)focusNoteInMindMapById:(NSString*)noteId;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="获取文档焦点笔记"><a href="#获取文档焦点笔记" class="header-anchor">#</a> 获取文档焦点笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)focusNoteInDocumentById:(NSString*)noteId;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="刷新插件命令"><a href="#刷新插件命令" class="header-anchor">#</a> 刷新插件命令</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)refreshAddonCommands;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="notedatabase"><a href="#notedatabase" class="header-anchor">#</a> NoteDatabase</h3> <h4 id="mbbook"><a href="#mbbook" class="header-anchor">#</a> MbBook</h4> <h5 id="当前主题id"><a href="#当前主题id" class="header-anchor">#</a> 当前主题ID</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>currenttopicid<span class="token punctuation">)</span> NSString <span class="token operator">*</span> currentTopicId<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="上次访问"><a href="#上次访问" class="header-anchor">#</a> 上次访问</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>lastvisit<span class="token punctuation">)</span> NSDate <span class="token operator">*</span> lastVisit<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="文档md5-2"><a href="#文档md5-2" class="header-anchor">#</a> 文档md5</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>md5real<span class="token punctuation">)</span> NSString <span class="token operator">*</span> docMd5<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="路径文件"><a href="#路径文件" class="header-anchor">#</a> 路径文件</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSString <span class="token operator">*</span> pathFile<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="文档标题"><a href="#文档标题" class="header-anchor">#</a> 文档标题</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>bookTitle<span class="token punctuation">)</span> NSString <span class="token operator">*</span> docTitle<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="mbbooknote"><a href="#mbbooknote" class="header-anchor">#</a> MbBookNote</h4> <h5 id="摘录文本"><a href="#摘录文本" class="header-anchor">#</a> 摘录文本</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readwrite<span class="token punctuation">,</span>getter<span class="token operator">=</span>highlight_text<span class="token punctuation">,</span>setter<span class="token operator">=</span>_setHighlightText<span class="token punctuation">:</span><span class="token punctuation">)</span> NSString <span class="token operator">*</span> excerptText<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="笔记标题"><a href="#笔记标题" class="header-anchor">#</a> 笔记标题</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readwrite,getter=notetitle,setter=_setNoteTitle:) NSString * noteTitle;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="颜色索引"><a href="#颜色索引" class="header-anchor">#</a> 颜色索引</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readwrite<span class="token punctuation">,</span>getter<span class="token operator">=</span>highStyleColorType<span class="token punctuation">,</span>setter<span class="token operator">=</span>_setHighStyleColorType<span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token keyword">int</span> colorIndex<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="填充索引"><a href="#填充索引" class="header-anchor">#</a> 填充索引</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readwrite<span class="token punctuation">,</span>getter<span class="token operator">=</span>highStyleFillType<span class="token punctuation">,</span>setter<span class="token operator">=</span>_setHighStyleFillType<span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token keyword">int</span> fillIndex<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="脑图位置"><a href="#脑图位置" class="header-anchor">#</a> 脑图位置</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readwrite<span class="token punctuation">)</span> CGPoint mindmapPosition<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="笔记id"><a href="#笔记id" class="header-anchor">#</a> 笔记ID</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>noteid<span class="token punctuation">)</span> NSString <span class="token operator">*</span> noteId<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="文档md5-3"><a href="#文档md5-3" class="header-anchor">#</a> 文档md5</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>bookmd5<span class="token punctuation">)</span> NSString <span class="token operator">*</span> docMd5<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="笔记本id-3"><a href="#笔记本id-3" class="header-anchor">#</a> 笔记本ID</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>topicid<span class="token punctuation">)</span> NSString <span class="token operator">*</span> notebookId<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="开始页"><a href="#开始页" class="header-anchor">#</a> 开始页</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>startpage<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> startPage<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="结束页"><a href="#结束页" class="header-anchor">#</a> 结束页</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>endpage<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> endPage<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="开始位置"><a href="#开始位置" class="header-anchor">#</a> 开始位置</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>startpos<span class="token punctuation">)</span> NSString <span class="token operator">*</span> startPos<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="结束位置"><a href="#结束位置" class="header-anchor">#</a> 结束位置</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>endpos<span class="token punctuation">)</span> NSString <span class="token operator">*</span> endPos<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="摘录图片"><a href="#摘录图片" class="header-anchor">#</a> 摘录图片</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>highlight_pic<span class="token punctuation">)</span> NSDictionary <span class="token operator">*</span> excerptPic<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="创建数据"><a href="#创建数据" class="header-anchor">#</a> 创建数据</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>highlight_date<span class="token punctuation">)</span> NSDate <span class="token operator">*</span> createDate<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="修改数据"><a href="#修改数据" class="header-anchor">#</a> 修改数据</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>note_date<span class="token punctuation">)</span> NSDate <span class="token operator">*</span> modifiedDate<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="媒体列表"><a href="#媒体列表" class="header-anchor">#</a> 媒体列表</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>media_list<span class="token punctuation">)</span> NSString <span class="token operator">*</span> mediaList<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="原始笔记id"><a href="#原始笔记id" class="header-anchor">#</a> 原始笔记ID</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>evernoteid<span class="token punctuation">)</span> NSString <span class="token operator">*</span> originNoteId<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="脑图分支关闭"><a href="#脑图分支关闭" class="header-anchor">#</a> 脑图分支关闭</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>mindclose<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> mindmapBranchClose<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="笔记文本"><a href="#笔记文本" class="header-anchor">#</a> 笔记文本</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>notes_text<span class="token punctuation">)</span> NSString <span class="token operator">*</span> notesText<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="笔记组id"><a href="#笔记组id" class="header-anchor">#</a> 笔记组ID</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>groupnoteid<span class="token punctuation">)</span> NSString <span class="token operator">*</span> groupNoteId<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="评论"><a href="#评论" class="header-anchor">#</a> 评论</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>comments<span class="token punctuation">)</span> NSArray <span class="token operator">*</span> comments<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="双亲笔记"><a href="#双亲笔记" class="header-anchor">#</a> 双亲笔记</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> MbBookNote <span class="token operator">*</span> parentNote<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="链接笔记"><a href="#链接笔记" class="header-anchor">#</a> 链接笔记</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>linkNotes<span class="token punctuation">)</span> NSArray <span class="token operator">*</span> linkedNotes<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="子笔记"><a href="#子笔记" class="header-anchor">#</a> 子笔记</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>childNotes<span class="token punctuation">)</span> NSArray <span class="token operator">*</span> childNotes<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="概要链接-2"><a href="#概要链接-2" class="header-anchor">#</a> 概要链接</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>summaryLinks<span class="token punctuation">)</span> NSArray <span class="token operator">*</span> summaryLinks<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="z-值"><a href="#z-值" class="header-anchor">#</a> Z 值</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> zLevel<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="隐藏"><a href="#隐藏" class="header-anchor">#</a> 隐藏</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> hidden<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="toc"><a href="#toc" class="header-anchor">#</a> toc</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> toc<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="标注"><a href="#标注" class="header-anchor">#</a> 标注</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> annotation<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="文本头部"><a href="#文本头部" class="header-anchor">#</a> 文本头部</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> textFirst<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="分组模式"><a href="#分组模式" class="header-anchor">#</a> 分组模式</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> groupMode<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="卡片"><a href="#卡片" class="header-anchor">#</a> 卡片</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> flashcard<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="概要"><a href="#概要" class="header-anchor">#</a> 概要</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>hasSummaryLinks<span class="token punctuation">)</span> BOOL summary<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="标记"><a href="#标记" class="header-anchor">#</a> 标记</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> flagged<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="文本高亮"><a href="#文本高亮" class="header-anchor">#</a> 文本高亮</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSDictionary <span class="token operator">*</span> textHighlight<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="选项"><a href="#选项" class="header-anchor">#</a> 选项</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSDictionary <span class="token operator">*</span> options<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="mbmodeltool"><a href="#mbmodeltool" class="header-anchor">#</a> MbModelTool</h4> <h5 id="获取笔记本"><a href="#获取笔记本" class="header-anchor">#</a> 获取笔记本</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(getNotebookById,
- (id)getTopicFromId:(NSString*)topicid);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="获取媒体文件"><a href="#获取媒体文件" class="header-anchor">#</a> 获取媒体文件</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(getMediaByHash,
- (NSData*)getMediaFromHash:(NSString*)hash);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="获取笔记"><a href="#获取笔记" class="header-anchor">#</a> 获取笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(getNoteById,
- (id)getNoteFromId:(NSString*)noteid);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="获取文档"><a href="#获取文档" class="header-anchor">#</a> 获取文档</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(getDocumentById,
- (id)getBookFromMd5:(NSString*)md5);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="获取卡片"><a href="#获取卡片" class="header-anchor">#</a> 获取卡片</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(getFlashcardByNoteId,
- (id)getNoteByEvernoteId:(NSString*)noteid topicid:(NSString*)topicid);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="获取卡片-2"><a href="#获取卡片-2" class="header-anchor">#</a> 获取卡片</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(getFlashcardsByNoteId,
- (NSArray*)getNotesByEvernoteId:(NSString*)noteid);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="判断卡片存在"><a href="#判断卡片存在" class="header-anchor">#</a> 判断卡片存在</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(hasFlashcardByNoteId,
- (BOOL)hasNotesForEvernoteId:(NSString*)noteid);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="保存数据库"><a href="#保存数据库" class="header-anchor">#</a> 保存数据库</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)savedb;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="获取所有笔记本"><a href="#获取所有笔记本" class="header-anchor">#</a> 获取所有笔记本</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (NSArray *)allNotebooks;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="获取所有文档"><a href="#获取所有文档" class="header-anchor">#</a> 获取所有文档</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (NSArray*)allDocuments;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="设置笔记本同步"><a href="#设置笔记本同步" class="header-anchor">#</a> 设置笔记本同步</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(setNotebookSyncDirty,
- (void)setTopicDirty:(NSString*)topicid);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="保存历史存档"><a href="#保存历史存档" class="header-anchor">#</a> 保存历史存档</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (NSArray*)saveHistoryArchive:(NSString*)topicid key:(NSString*)key;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="加载历史存档"><a href="#加载历史存档" class="header-anchor">#</a> 加载历史存档</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (NSArray*)loadHistoryArchive:(NSString*)topicid key:(NSString*)key;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="删除笔记本"><a href="#删除笔记本" class="header-anchor">#</a> 删除笔记本</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)deleteBookNote:(NSString*)noteid;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="删除笔记本树"><a href="#删除笔记本树" class="header-anchor">#</a> 删除笔记本树</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)deleteBookNoteTree:(NSString*)noteid;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="克隆笔记"><a href="#克隆笔记" class="header-anchor">#</a> 克隆笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (NSArray*)cloneNotes:(NSArray*)notes toTopic:(NSString*)topicid;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="克隆笔记至卡片"><a href="#克隆笔记至卡片" class="header-anchor">#</a> 克隆笔记至卡片</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (NSArray*)cloneNotesToFlashcards:(NSArray*)notes toTopic:(NSString*)topicid;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="导出笔记本"><a href="#导出笔记本" class="header-anchor">#</a> 导出笔记本</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (BOOL)exportNotebook:(NSString*)topicid storePath:(NSString*)storePath;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="导入笔记本"><a href="#导入笔记本" class="header-anchor">#</a> 导入笔记本</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (id)importNotebookFromStorePath:(NSString*)storePath merge:(BOOL)merge;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="mbtopic"><a href="#mbtopic" class="header-anchor">#</a> MbTopic</h4> <h5 id="标题"><a href="#标题" class="header-anchor">#</a> 标题</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readwrite,setter=setTopicTitle:) NSString * title;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="主题id"><a href="#主题id" class="header-anchor">#</a> 主题ID</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>topicid<span class="token punctuation">)</span> NSString <span class="token operator">*</span> topicId<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="上次访问-2"><a href="#上次访问-2" class="header-anchor">#</a> 上次访问</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>lastvisit<span class="token punctuation">)</span> NSDate <span class="token operator">*</span> lastVisit<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="主文档md5"><a href="#主文档md5" class="header-anchor">#</a> 主文档md5</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>localbookmd5<span class="token punctuation">)</span> NSString <span class="token operator">*</span> mainDocMd5<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="历史数据"><a href="#历史数据" class="header-anchor">#</a> 历史数据</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>historydate<span class="token punctuation">)</span> NSDate <span class="token operator">*</span> historyDate<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="同步模式"><a href="#同步模式" class="header-anchor">#</a> 同步模式</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>syncmode<span class="token punctuation">)</span> NSNumber <span class="token operator">*</span> syncMode<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="分类列表"><a href="#分类列表" class="header-anchor">#</a> 分类列表</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>taglist<span class="token punctuation">)</span> NSString <span class="token operator">*</span> categoryList<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="哈希标签"><a href="#哈希标签" class="header-anchor">#</a> 哈希标签</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSString <span class="token operator">*</span> hashtags<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="文档列表"><a href="#文档列表" class="header-anchor">#</a> 文档列表</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>booklist<span class="token punctuation">)</span> NSString <span class="token operator">*</span> docList<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="选项-2"><a href="#选项-2" class="header-anchor">#</a> 选项</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSDictionary <span class="token operator">*</span> options<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="文档集合"><a href="#文档集合" class="header-anchor">#</a> 文档集合</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">,</span>getter<span class="token operator">=</span>books<span class="token punctuation">)</span> NSArray <span class="token operator">*</span> documents<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="笔记集合"><a href="#笔记集合" class="header-anchor">#</a> 笔记集合</h5> <p>Objective-C声明</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>readonly<span class="token punctuation">)</span> NSArray <span class="token operator">*</span> notes<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="隐藏链接"><a href="#隐藏链接" class="header-anchor">#</a> 隐藏链接</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readwrite) BOOL hideLinksInMindMapNode;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="utility"><a href="#utility" class="header-anchor">#</a> Utility</h3> <h4 id="菜单控制器-menucontroller"><a href="#菜单控制器-menucontroller" class="header-anchor">#</a> 菜单控制器(<strong>MenuController</strong>)</h4> <h5 id="菜单表视图"><a href="#菜单表视图" class="header-anchor">#</a> 菜单表视图</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,retain)    UITableView* menuTableView;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="命令表"><a href="#命令表" class="header-anchor">#</a> 命令表</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,retain)    NSArray* commandTable;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="部件"><a href="#部件" class="header-anchor">#</a> 部件</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,retain)    NSArray* sections;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="行高"><a href="#行高" class="header-anchor">#</a> 行高</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,assign)    int rowHeight;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="注水线"><a href="#注水线" class="header-anchor">#</a> 注水线</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,assign)    int secHeight;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="字体尺寸"><a href="#字体尺寸" class="header-anchor">#</a> 字体尺寸</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,assign)    int fontSize;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="-2"><a href="#-2" class="header-anchor">#</a></h4> <h4 id="朗读管理器-speechmanager"><a href="#朗读管理器-speechmanager" class="header-anchor">#</a> 朗读管理器(<strong>SpeechManager</strong>)</h4> <h5 id="开始朗读笔记"><a href="#开始朗读笔记" class="header-anchor">#</a> 开始朗读笔记</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)startSpeechNotes:(NSArray*)notes;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="停止朗读"><a href="#停止朗读" class="header-anchor">#</a> 停止朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)stopSpeech;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="暂停朗读"><a href="#暂停朗读" class="header-anchor">#</a> 暂停朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)pauseSpeech;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="继续朗读"><a href="#继续朗读" class="header-anchor">#</a> 继续朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)continueSpeech;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="前朗读"><a href="#前朗读" class="header-anchor">#</a> 前朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)prevSpeech;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="后朗读"><a href="#后朗读" class="header-anchor">#</a> 后朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)nextSpeech;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="可以回退"><a href="#可以回退" class="header-anchor">#</a> 可以回退</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (BOOL)canPrev;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="可以前进"><a href="#可以前进" class="header-anchor">#</a> 可以前进</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (BOOL)canNext;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="朗读内容"><a href="#朗读内容" class="header-anchor">#</a> 朗读内容</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)playText:(NSString*)text;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="指定语言"><a href="#指定语言" class="header-anchor">#</a> 指定语言</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)playText:(NSString *)text languageTxt:(NSString*)languageTxt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="朗读中"><a href="#朗读中" class="header-anchor">#</a> 朗读中</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly) BOOL speaking;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="暂停朗读-2"><a href="#暂停朗读-2" class="header-anchor">#</a> 暂停朗读</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,readonly) BOOL paused;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="窗口"><a href="#窗口" class="header-anchor">#</a> 窗口</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,weak) UIWindow * sceneWindow;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="语言编码"><a href="#语言编码" class="header-anchor">#</a> 语言编码</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>@property (nonatomic,strong) NSString * languageCode;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="撤销控制"><a href="#撤销控制" class="header-anchor">#</a> 撤销控制</h4> <h5 id="撤销组"><a href="#撤销组" class="header-anchor">#</a> 撤销组</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>JSExportAs(undoGrouping,
- (void)undoGrouping:(NSString*)actionName inNotebook:(NSString*)topicid block:(JSValue*)block);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="撤销"><a href="#撤销" class="header-anchor">#</a> 撤销</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)undo;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="重做"><a href="#重做" class="header-anchor">#</a> 重做</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)redo;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="可以撤销"><a href="#可以撤销" class="header-anchor">#</a> 可以撤销</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (BOOL)canUndo;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="可以重做"><a href="#可以重做" class="header-anchor">#</a> 可以重做</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (BOOL)canRedo;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="清空"><a href="#清空" class="header-anchor">#</a> 清空</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (void)clearAll;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="压缩文件"><a href="#压缩文件" class="header-anchor">#</a> 压缩文件</h4> <h5 id="解压文件"><a href="#解压文件" class="header-anchor">#</a> 解压文件</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>+ (BOOL)unzipFileAtPath:(NSString *)path toDestination:(NSString *)destination;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="解压文件-2"><a href="#解压文件-2" class="header-anchor">#</a> 解压文件</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>+ (BOOL)unzipFileAtPath:(NSString *)path toDestination:(NSString *)destination overwrite:(BOOL)overwrite password:(NSString *)password;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="压缩文件-2"><a href="#压缩文件-2" class="header-anchor">#</a> 压缩文件</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>+ (BOOL)createZipFileAtPath:(NSString *)path withFilesAtPaths:(NSArray *)filenames;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="压缩文件-3"><a href="#压缩文件-3" class="header-anchor">#</a> 压缩文件</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>+ (BOOL)createZipFileAtPath:(NSString *)path withContentsOfDirectory:(NSString *)directoryPath;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="初始化路径"><a href="#初始化路径" class="header-anchor">#</a> 初始化路径</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (id)initWithPath:(NSString *)path;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="打开文件"><a href="#打开文件" class="header-anchor">#</a> 打开文件</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (BOOL)open;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="写入文件"><a href="#写入文件" class="header-anchor">#</a> 写入文件</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (BOOL)writeFile:(NSString *)path;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="写入数据"><a href="#写入数据" class="header-anchor">#</a> 写入数据</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (BOOL)writeData:(NSData *)data filename:(NSString *)filename;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="关闭文件"><a href="#关闭文件" class="header-anchor">#</a> 关闭文件</h5> <p>Objective-C声明</p> <div class="language-objective-c line-numbers-mode"><pre class="language-text"><code>- (BOOL)close;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="sqlite"><a href="#sqlite" class="header-anchor">#</a> SQLite</h3> <p>我们不推荐用户直接对SQLite数据库进行操作，因此此处不做过多介绍，若您需要使用相关API，可以在之前下载的API文件中自行查阅。</p> <h1 id="进阶"><a href="#进阶" class="header-anchor">#</a> 进阶</h1> <h2 id="如何调试"><a href="#如何调试" class="header-anchor">#</a> 如何调试</h2> <p>由于目前Apple的安全限制，暂无法使用相关调试工具进行断点调试，现阶段您可以使用如<code>alert</code>、<code>showHUD</code>等方法在屏幕上输出您需要的调试信息。</p> <h2 id="quartzcore"><a href="#quartzcore" class="header-anchor">#</a> QuartzCore</h2> <p>IOS设备给用户的视觉反馈都是基于QuartzCore框架来进行的，利用该框架可以实现一些美观的动画效果，如果您的插件中需要进行UI渲染等，可以自行学习QuartzCore框架</p> <h2 id="uikit"><a href="#uikit" class="header-anchor">#</a> UIKit</h2> <blockquote><p>以下内容摘自<a href="https://developer.apple.com/cn/documentation/uikit/" target="_blank" rel="noopener noreferrer">Apple开发者文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，如果您有兴趣可以前往阅读</p></blockquote> <p>UIKit 框架提供了 iOS 或 Apple tvOS app 所需的基础架构。它提供了用于实施界面的窗口和视图架构，用于向 app 提供多点触控和其他类型输入的事件处理基础架构，以及管理用户、系统和 app 之间互动所需的主运行循环。该框架提供的其他功能包括动画支持、文档支持、绘图和打印支持、当前设备的相关信息、文本管理和显示、搜索支持、辅助功能支持、app 扩展支持和资源管理。</p> <h2 id="申请官方签名"><a href="#申请官方签名" class="header-anchor">#</a> 申请官方签名</h2> <h3 id="申请渠道"><a href="#申请渠道" class="header-anchor">#</a> 申请渠道</h3> <p>请按照规范格式，发送邮件至 <a href="mailto:service@marginnote.com">service@marginnote.com</a> ，技术人员会在72小时内完成审核并予以答复。</p> <blockquote><p>邮件标题：插件签名申请-插件名-论坛ID</p> <p>范例：插件签名申请-MDXdict-Petter1925</p> <p>邮件正文：
1，插件功能描述
2，技术说明</p> <p>邮件附件：以未签名格式打包的mnaddon文件，用于功能测试</p></blockquote> <p>请注意，不规范的邮件格式可能无法被客服系统正确识别。</p> <h3 id="插件签名的权限和功能"><a href="#插件签名的权限和功能" class="header-anchor">#</a> 插件签名的权限和功能</h3> <h4 id="即时向用户推送更新"><a href="#即时向用户推送更新" class="header-anchor">#</a> 即时向用户推送更新</h4> <p>未经认证的插件更新需要用户自行下载覆盖安装新版本，不利于及时修复bug。官方认证后，可通过MN服务器在线向终端用户推送插件升级服务，方便用户及时升级到最新版本。</p> <p><em>说明</em>：后续更新需要重新按上述流程申请签名，但申请同时我们可以提供代为推送更新的服务。（基于新旧签名识别已安装用户，icloud Kit推送）</p> <h4 id="免去额外设置"><a href="#免去额外设置" class="header-anchor">#</a> 免去额外设置</h4> <p>未经认证的插件需要用户额外设置开启“允许加载未经认证的插件”，官方认证后可免除设置并直接安装。</p> <h4 id="关闭弹窗警告"><a href="#关闭弹窗警告" class="header-anchor">#</a> 关闭弹窗警告</h4> <p>未经认证的插件会在用户使用MN时会弹出警示窗口，官方认证后，使用插件则不会弹窗。</p> <h1 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h1> <h2 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h2> <h2 id="autotitle-剖析"><a href="#autotitle-剖析" class="header-anchor">#</a> AutoTitle 剖析</h2> <p>您或许已经了解了上述的API内容，但对于如何组织一个专属于您的插件还感到些许迷茫，我们为您提供的<code>AutoTitle</code>插件中的<code>main.js</code>的详细注释版本，需要您结合之前所掌握的内容，来认真阅读与思考，相信您很快就可以上手制作属于自己的插件了。</p> <p>当然，纸上谈兵是远远不够的，我们非常希望您可以即刻行动，将您的想法付诸实践，这样您才能正常理解本文提到的所有概念。当然，若您发现文本存在错误，或您有更好的想法，欢迎与我们进行交流！</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">JSB</span><span class="token punctuation">.</span><span class="token function-variable function">newAddon</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">mainPath</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//这是JSBridge的方法，您不需要关心这里</span>
    <span class="token keyword">var</span> newAddonClass <span class="token operator">=</span> <span class="token constant">JSB</span><span class="token punctuation">.</span><span class="token function">defineClass</span><span class="token punctuation">(</span><span class="token string">'AutoTitle : JSExtension'</span><span class="token punctuation">,</span> <span class="token comment">/*Instance members*/</span><span class="token punctuation">{</span>
      <span class="token comment">//Window initialize</span>
      <span class="token function-variable function">sceneWillConnect</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//这里便是之前提到的生命周期函数了，您在sceneWillConnect下所编写的代码，会在窗口激活时被执行</span>
          self<span class="token punctuation">.</span>webController <span class="token operator">=</span> WebViewController<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这里创建了一个WebViewController的实例</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//Window disconnect</span>
      <span class="token function-variable function">sceneDidDisconnect</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//Window resign active</span>
      <span class="token function-variable function">sceneWillResignActive</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//Window become active</span>
      <span class="token function-variable function">sceneDidBecomeActive</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">notebookWillOpen</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">notebookid</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//这里是notebookWillOpen生命周期，会在笔记本被打开时执行其中的代码</span>
        <span class="token comment">//NSNotificationCenter是关于消息通知的一个类</span>
        <span class="token comment">//defaultCenter()是NSNotificationCenter中的类方法，它可以返回该类的实例</span>
        <span class="token comment">//addObserverSelectorName()是关于添加观察者的方法，显然该方法需要创建实例后调用</span>

        NSNotificationCenter<span class="token punctuation">.</span><span class="token function">defaultCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addObserverSelectorName</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span><span class="token string">'onProcessExcerptText:'</span><span class="token punctuation">,</span><span class="token string">'ProcessNewExcerpt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//当ProcessNewExcerpt发生时，即有新摘录时，触发onProcessExcerptText事件，该事件在后续需要您详细定义其操作内容</span>
        NSNotificationCenter<span class="token punctuation">.</span><span class="token function">defaultCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addObserverSelectorName</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span><span class="token string">'onProcessExcerptText:'</span><span class="token punctuation">,</span><span class="token string">'ChangeExcerptRange'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//当ChangeExcerptRange发生时，即修改摘录时，触发onProcessExcerptText事件</span>
        self<span class="token punctuation">.</span>autotitle <span class="token operator">=</span> NSUserDefaults<span class="token punctuation">.</span><span class="token function">standardUserDefaults</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">objectForKey</span><span class="token punctuation">(</span><span class="token string">'marginnote_autotitle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//绑定插件</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">notebookWillClose</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">notebookid</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//这里则是当笔记本关闭时，将相关的消息通知关闭</span>
        NSNotificationCenter<span class="token punctuation">.</span><span class="token function">defaultCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeObserverName</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span><span class="token string">'ProcessNewExcerpt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        NSNotificationCenter<span class="token punctuation">.</span><span class="token function">defaultCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeObserverName</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span><span class="token string">'ChangeExcerptRange'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">documentDidOpen</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">docmd5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">documentWillClose</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">docmd5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">controllerWillLayoutSubviews</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">controller</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">queryAddonCommandStatus</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">studyController</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span>studyMode <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment">//判断当前模式，即在只读模式下插件不生效</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span>image<span class="token operator">:</span><span class="token string">'title.png'</span><span class="token punctuation">,</span>object<span class="token operator">:</span>self<span class="token punctuation">,</span>selector<span class="token operator">:</span><span class="token string">'toggleAutoTitle:'</span><span class="token punctuation">,</span>checked<span class="token operator">:</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>autotitle<span class="token operator">?</span><span class="token boolean">true</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//Clicking note</span>
      <span class="token function-variable function">onProcessExcerptText</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sender</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//这里便是之前触发的事件内容，其中定义了当摘录被创建或改变时需要执行的内容</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">checkNotifySenderInWindow</span><span class="token punctuation">(</span>sender<span class="token punctuation">,</span>self<span class="token punctuation">.</span>window<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//仅仅处理当前窗口的内容</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>self<span class="token punctuation">.</span>autotitle<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//判断插件是否生效</span>
        <span class="token keyword">var</span> noteid <span class="token operator">=</span> sender<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>noteid<span class="token punctuation">;</span><span class="token comment">//获取笔记ID</span>
        <span class="token keyword">var</span> note <span class="token operator">=</span> Database<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getNoteById</span><span class="token punctuation">(</span>noteid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//通过笔记ID获取笔记</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>note <span class="token operator">&amp;&amp;</span> note<span class="token punctuation">.</span>excerptText <span class="token operator">&amp;&amp;</span> note<span class="token punctuation">.</span>excerptText<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> note<span class="token punctuation">.</span>excerptText<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">250</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>note<span class="token punctuation">.</span>groupNoteId<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//笔记存在且摘录文本存在且摘录文本长度不为0且摘录文本长度不足250且没有成组</span>
          <span class="token keyword">var</span> timerCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//计数器置零</span>
          NSTimer<span class="token punctuation">.</span><span class="token function">scheduledTimerWithTimeInterval</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">timer</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> note<span class="token punctuation">.</span>excerptText<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将摘录文本处理后存入text变量</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>text <span class="token operator">&amp;&amp;</span> text<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
              UndoManager<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">undoGrouping</span><span class="token punctuation">(</span><span class="token string">'AutoTitle'</span><span class="token punctuation">,</span>note<span class="token punctuation">.</span>notebookId<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                note<span class="token punctuation">.</span>noteTitle <span class="token operator">=</span> text<span class="token punctuation">;</span><span class="token comment">//将text赋值给笔记标题</span>
                note<span class="token punctuation">.</span>excerptText <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token comment">//将笔记摘录置空</span>
                Database<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setNotebookSyncDirty</span><span class="token punctuation">(</span>note<span class="token punctuation">.</span>notebookId<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//同步修改至数据库</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              NSNotificationCenter<span class="token punctuation">.</span><span class="token function">defaultCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">postNotificationNameObjectUserInfo</span><span class="token punctuation">(</span><span class="token string">'RefreshAfterDBChange'</span><span class="token punctuation">,</span>self<span class="token punctuation">,</span><span class="token punctuation">{</span>topicid<span class="token operator">:</span>note<span class="token punctuation">.</span>notebookId<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            timerCount<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>timerCount <span class="token operator">&gt;=</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              timer<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">toggleAutoTitle</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sender</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//这里是插件的开关判断，如果您没有兴趣探究，可以将一下内容稍加修改，便可作为您的插件的开关选择</span>
        <span class="token keyword">var</span> lan <span class="token operator">=</span> NSLocale<span class="token punctuation">.</span><span class="token function">preferredLanguages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token operator">?</span>NSLocale<span class="token punctuation">.</span><span class="token function">preferredLanguages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token string">'en'</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>autotitle<span class="token punctuation">)</span><span class="token punctuation">{</span>
          self<span class="token punctuation">.</span>autotitle <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>lan <span class="token operator">==</span> <span class="token string">'zh'</span><span class="token punctuation">)</span>
            Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showHUD</span><span class="token punctuation">(</span><span class="token string">'自动设置标题已关闭'</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>window<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">else</span>
            Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showHUD</span><span class="token punctuation">(</span><span class="token string">'Auto title is turned off'</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>window<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
          self<span class="token punctuation">.</span>autotitle <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>lan <span class="token operator">==</span> <span class="token string">'zh'</span><span class="token punctuation">)</span>
            Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showHUD</span><span class="token punctuation">(</span><span class="token string">'创建摘录后，摘录内容将自动被设置为笔记标题'</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>window<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">else</span>
            Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showHUD</span><span class="token punctuation">(</span><span class="token string">'After creating an excerpt, the excerpt will be automatically set as the note title'</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>window<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        NSUserDefaults<span class="token punctuation">.</span><span class="token function">standardUserDefaults</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setObjectForKey</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>autotitle<span class="token punctuation">,</span><span class="token string">'marginnote_autotitle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">studyController</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">refreshAddonCommands</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">/*Class members*/</span><span class="token punctuation">{</span>
      <span class="token function-variable function">addonDidConnect</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">addonWillDisconnect</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">applicationWillEnterForeground</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">applicationDidEnterBackground</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">applicationDidReceiveLocalNotification</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">notify</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> newAddonClass<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br></div></div></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">11/22/2020, 2:46:16 PM</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="./assets/js/app.5c4c847d.js" defer></script><script src="./assets/js/3.81915612.js" defer></script><script src="./assets/js/1.d78e6eed.js" defer></script><script src="./assets/js/41.6e944c07.js" defer></script>
  </body>
</html>
