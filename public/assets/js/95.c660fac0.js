(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{576:function(s,a,t){"use strict";t.r(a);var e=t(4),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"一、视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、视图"}},[s._v("#")]),s._v(" 一、视图")]),s._v(" "),t("h3",{attrs:{id:"_1-1-视图创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-视图创建"}},[s._v("#")]),s._v(" 1.1 视图创建")]),s._v(" "),t("h4",{attrs:{id:"_1-1-1-行列子集视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-行列子集视图"}},[s._v("#")]),s._v(" 1.1.1 行列子集视图")]),s._v(" "),t("p",[s._v("在聊天模型中，在搜索查找用户的界面中只需要展示用户的头像、昵称和账号ID即可，因此可以基于"),t("code",[s._v("Users")]),s._v("表创建行列子集视图")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" Users_list\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" U_HeadPortrait"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_NickName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_ID\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107130606895.png",alt:"image-20201107130606895"}})]),s._v(" "),t("h4",{attrs:{id:"_1-1-2-带表达式的视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-带表达式的视图"}},[s._v("#")]),s._v(" 1.1.2 带表达式的视图")]),s._v(" "),t("p",[s._v("在用户的详细信息展示页面中，需要展示年龄信息，而此信息是没有存储在"),t("code",[s._v("Users")]),s._v("表中的，但是我们可以基于"),t("code",[s._v("Users")]),s._v("表中的存储的生日信息来计算用户的年龄")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" User_information"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("U_HeadPortrait"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_NickName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Sex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Telephone"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" U_HeadPortrait"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_NickName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Sex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("now")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("U_Birthday"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Telephone"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Email\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107130715077.png",alt:"image-20201107130715077"}})]),s._v(" "),t("h4",{attrs:{id:"_1-1-3-分组视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-分组视图"}},[s._v("#")]),s._v(" 1.1.3 分组视图")]),s._v(" "),t("p",[s._v("在导出聊天记录时，可以对消息按会话ID进行分组，然后将消息拼接到一起，因此可以基于"),t("code",[s._v("Messages")]),s._v("表建立分组视图。")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" Chat_record"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("record"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" GROUP_CONCAT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M_PostMessages"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("M_SessionID "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" Messages\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" M_SessionID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107130744801.png",alt:"image-20201107130744801"}})]),s._v(" "),t("h3",{attrs:{id:"_1-2-视图查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-视图查询"}},[s._v("#")]),s._v(" 1.2 视图查询")]),s._v(" "),t("blockquote",[t("p",[s._v("视图定义后，对视图的查询与对基本表的查询是一致的")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Users_list"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" User_information"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Chat_record"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107131005112.png",alt:"image-20201107131005112"}})]),s._v(" "),t("h3",{attrs:{id:"_1-3-视图更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-视图更新"}},[s._v("#")]),s._v(" 1.3 视图更新")]),s._v(" "),t("blockquote",[t("p",[s._v("由于视图是不实际存储数据的虚表，因此对视图的更新最终要转换为对基本表的更新")])]),s._v(" "),t("h4",{attrs:{id:"_1-3-1-视图修改"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-视图修改"}},[s._v("#")]),s._v(" 1.3.1 视图修改")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" Users_list "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" U_NickName"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hengjian"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" U_ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107133939249.png",alt:"image-20201107133939249"}})]),s._v(" "),t("p",[s._v("修改成功，相当于将"),t("code",[s._v("Users")]),s._v("表中的"),t("code",[s._v("U_NickName")]),s._v("做了修改")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" User_information "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" U_Age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("220602050943")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" U_ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107134737011.png",alt:"image-20201107134737011"}})]),s._v(" "),t("p",[s._v("修改失败，因为"),t("code",[s._v("U_Age")]),s._v("字段是虚拟列，由原字段计算出来的，所以无法修改原基本表来使得视图改变")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" Chat_record "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" recode "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hi"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107134858094.png",alt:"image-20201107134858094"}})]),s._v(" "),t("p",[s._v("修改失败，因为"),t("code",[s._v("recode")]),s._v("字段是"),t("code",[s._v("GROUP BY")]),s._v("之后合并出来的，所以无法修改原基本表来使得视图改变")]),s._v(" "),t("h4",{attrs:{id:"_1-3-2-视图删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-视图删除"}},[s._v("#")]),s._v(" 1.3.2 视图删除")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("  Users_list "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" U_ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107135424907.png",alt:"image-20201107135424907"}})]),s._v(" "),t("p",[s._v("删除失败，因为这里相当于要删除"),t("code",[s._v("Users")]),s._v("表中的字段，而"),t("code",[s._v("U_ID")]),s._v("作为外键被引用，所以无法删除")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("  User_information "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" U_ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107135526097.png",alt:"image-20201107135526097"}})]),s._v(" "),t("p",[s._v("删除失败，因为这里相当于要删除"),t("code",[s._v("Users")]),s._v("表中的字段，而"),t("code",[s._v("U_ID")]),s._v("作为外键被引用，所以无法删除")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("  Chat_record "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107135604932.png",alt:"image-20201107135604932"}})]),s._v(" "),t("p",[s._v("删除失败，因为这里相当于要删除"),t("code",[s._v("GROUP BY")]),s._v("后的合并字段，无法删除找到删除原本的基本表的对应内容来删除该字段")]),s._v(" "),t("h4",{attrs:{id:"_1-3-3-视图的更新限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-3-视图的更新限制"}},[s._v("#")]),s._v(" 1.3.3 视图的更新限制")]),s._v(" "),t("ul",[t("li",[s._v("若视图是由两个以上基本表导出的,则此视图不允许更新。")]),s._v(" "),t("li",[s._v("若视图的字段来自字段表达式或常数,则不允许对此视图执行 INSERT和 UPDATE操作,但允许执行 DELETE操作。")]),s._v(" "),t("li",[s._v("若视图的字段来自聚集函数,则此视图不允许更新")]),s._v(" "),t("li",[s._v("若视图定义中含有 GROUP BY子句,则此视图不允许更新。")]),s._v(" "),t("li",[s._v("若视图定义中含有 DISTINCT短语,则此视图不允许更新。")]),s._v(" "),t("li",[s._v("若视图定义中有嵌套查询,并且内层查询的FROM子句中涉及的表也是导出该视图的基本表,则此视图不允许更新。")]),s._v(" "),t("li",[s._v("一个不允许更新的视图上定义的视图也不允许更新。")])]),s._v(" "),t("h3",{attrs:{id:"_1-4-视图的主要作用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-视图的主要作用"}},[s._v("#")]),s._v(" 1.4 视图的主要作用")]),s._v(" "),t("ul",[t("li",[s._v("视图能够简化用户的操作")]),s._v(" "),t("li",[s._v("视图使得用户能以多种角度看待同一数据")]),s._v(" "),t("li",[s._v("视图对重构数据库提供了一定程度的逻辑独立性")]),s._v(" "),t("li",[s._v("视图能够对机密数据提供安全保护")]),s._v(" "),t("li",[s._v("适当利用视图可以更清晰的表达查询")])]),s._v(" "),t("h2",{attrs:{id:"二、用户口令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、用户口令"}},[s._v("#")]),s._v(" 二、用户口令")]),s._v(" "),t("h3",{attrs:{id:"_2-1-不可逆加密算法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-不可逆加密算法"}},[s._v("#")]),s._v(" 2.1 不可逆加密算法")]),s._v(" "),t("h4",{attrs:{id:"_2-1-1-hash加密算法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-hash加密算法"}},[s._v("#")]),s._v(" 2.1.1 Hash加密算法")]),s._v(" "),t("p",[s._v("Hash加密算法的特征是加密过程中不需要使用秘钥，输入明文后由系统直接经过加密算法处理成密文，这种加密后的数据是无法被破解的，只有重新输入明文，并再次经过同样不可逆的加密算法处理，得到相同的加密密文并被系统重新识别后，才能真正解密")]),s._v(" "),t("h4",{attrs:{id:"_2-1-2-md5加密算法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-md5加密算法"}},[s._v("#")]),s._v(" 2.1.2 MD5加密算法")]),s._v(" "),t("p",[s._v("MD5加密算法简要的叙述可以为:MD5以512位分组来处理输入的信息，且每一分组又被划分为16个32位子分组，经过一系列的处理后，算法的输出将由32位分组组成，将这四个32位分组级联后将生成一个128位散列值。")]),s._v(" "),t("h4",{attrs:{id:"_2-1-3-sha加密算法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-sha加密算法"}},[s._v("#")]),s._v(" 2.1.3 SHA加密算法")]),s._v(" "),t("p",[s._v("SHA加密算法也叫安全散列算法，分为SHA1和SHA2两个版本。该算法的思想是接收一段明文，然后以一种不可逆的方式将它转换成一段密文，也可以简单的理解为取一串输入码，并把他们转换为长度较短、位数固定的输出序列即散列值的过程。")]),s._v(" "),t("h3",{attrs:{id:"_2-2-修改密码流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-修改密码流程"}},[s._v("#")]),s._v(" 2.2 修改密码流程")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107142159719.png",alt:"image-20201107142159719"}})]),s._v(" "),t("h3",{attrs:{id:"_2-3-重置密码流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-重置密码流程"}},[s._v("#")]),s._v(" 2.3 重置密码流程")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107142319296.png",alt:"image-20201107142319296"}})]),s._v(" "),t("h2",{attrs:{id:"三、用户授权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、用户授权"}},[s._v("#")]),s._v(" 三、用户授权")]),s._v(" "),t("h3",{attrs:{id:"_3-1-创建用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-创建用户"}},[s._v("#")]),s._v(" 3.1 创建用户")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user1"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),s._v(" IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user2"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),s._v(" IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user3"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),s._v(" IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user4"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),s._v(" IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user5"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),s._v(" IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107144913920.png",alt:"image-20201107144913920"}})]),s._v(" "),t("h3",{attrs:{id:"_3-2-表级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-表级别"}},[s._v("#")]),s._v(" 3.2  表级别")]),s._v(" "),t("h4",{attrs:{id:"_3-2-1-授权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-授权"}},[s._v("#")]),s._v(" 3.2.1 授权")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user1"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user2"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user3"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user4"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user5"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107145537205.png",alt:"image-20201107145537205"}})]),s._v(" "),t("h4",{attrs:{id:"_3-2-2-测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-测试"}},[s._v("#")]),s._v(" 3.2.2 测试")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107145844985.png",alt:"image-20201107145844985"}})]),s._v(" "),t("p",[s._v("对"),t("code",[s._v("user1")]),s._v("进行测试，可见授予其"),t("code",[s._v("SELECT")]),s._v("权限成功，而未授予的"),t("code",[s._v("UPDATE")]),s._v("则无法执行，提示没有权限。")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107150427887.png",alt:"image-20201107150427887"}})]),s._v(" "),t("p",[t("code",[s._v("user2")]),s._v("权限赋予成功")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107150618355.png",alt:"image-20201107150618355"}})]),s._v(" "),t("p",[t("code",[s._v("user3")]),s._v("虽然没有更新数据成功，但是报错并不是没有UPDATE权限，说明是授权成功的，报错是因为执行UPDATE时需要执行SELECT，而"),t("code",[s._v("user3")]),s._v("并不具备该权限")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107150854351.png",alt:"image-20201107150854351"}})]),s._v(" "),t("p",[t("code",[s._v("user4")]),s._v("的情况与"),t("code",[s._v("user3")]),s._v("是相同的。")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107151239041.png",alt:"image-20201107151239041"}})]),s._v(" "),t("p",[t("code",[s._v("user5")]),s._v("赋予了所有的权限，所以可见所有的操作都被允许了。")]),s._v(" "),t("h4",{attrs:{id:"_3-2-3-收回权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-3-收回权限"}},[s._v("#")]),s._v(" 3.2.3 收回权限")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user1"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user2"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user3"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user4"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user5"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107151557273.png",alt:"image-20201107151557273"}})]),s._v(" "),t("h4",{attrs:{id:"_3-2-4-测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-4-测试"}},[s._v("#")]),s._v(" 3.2.4 测试")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107151658208.png",alt:"image-20201107151658208"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107151813003.png",alt:"image-20201107151813003"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107151957408.png",alt:"image-20201107151957408"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107152209949.png",alt:"image-20201107152209949"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107152246322.png",alt:"image-20201107152246322"}})]),s._v(" "),t("p",[s._v("可见所有的权限都收回成功")]),s._v(" "),t("h3",{attrs:{id:"_3-3-属性列级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-属性列级别"}},[s._v("#")]),s._v(" 3.3 属性列级别")]),s._v(" "),t("h4",{attrs:{id:"_3-3-1-授权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-1-授权"}},[s._v("#")]),s._v(" 3.3.1 授权")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S_TypeID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user1"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S_TypeID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user2"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S_TypeID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user3"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107153344257.png",alt:"image-20201107153344257"}})]),s._v(" "),t("h4",{attrs:{id:"_3-3-2-测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-2-测试"}},[s._v("#")]),s._v(" 3.3.2 测试")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107153518186.png",alt:"image-20201107153518186"}})]),s._v(" "),t("p",[s._v("可见"),t("code",[s._v("user1")]),s._v("可以正常SELECT列S_TypeID，但是无法SELECT其他列，因为无授权。")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107153719130.png",alt:"image-20201107153719130"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107153900990.png",alt:"image-20201107153900990"}})]),s._v(" "),t("p",[s._v("可见"),t("code",[s._v("user3")]),s._v("由于没有SELECT授权，所以无法使用WHERE子句，但是UPDATE权限已经取得")]),s._v(" "),t("h4",{attrs:{id:"_3-3-3-收回授权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-3-收回授权"}},[s._v("#")]),s._v(" 3.3.3 收回授权")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S_TypeID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user1"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S_TypeID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user2"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S_TypeID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user3"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107154045661.png",alt:"image-20201107154045661"}})]),s._v(" "),t("h4",{attrs:{id:"_3-3-4-测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-4-测试"}},[s._v("#")]),s._v(" 3.3.4 测试")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107154214741.png",alt:"image-20201107154214741"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107154307556.png",alt:"image-20201107154307556"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107154356686.png",alt:"image-20201107154356686"}})]),s._v(" "),t("p",[s._v("可见所有的权限都已经成功收回")]),s._v(" "),t("h3",{attrs:{id:"_3-4-角色"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-角色"}},[s._v("#")]),s._v(" 3.4 角色")]),s._v(" "),t("blockquote",[t("p",[s._v("需要注意的是，MySQL8.0以后才支持角色")])]),s._v(" "),t("h4",{attrs:{id:"_3-4-1-创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-1-创建"}},[s._v("#")]),s._v(" 3.4.1 创建")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" ROLE Myrole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" Myrole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107155756757.png",alt:"image-20201107155756757"}})]),s._v(" "),t("h4",{attrs:{id:"_3-4-2-授权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-2-授权"}},[s._v("#")]),s._v(" 3.4.2 授权")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" Myrole\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user1"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" ROLE "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user1"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107161043598.png",alt:"image-20201107161043598"}})]),s._v(" "),t("h4",{attrs:{id:"_3-4-3-测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-3-测试"}},[s._v("#")]),s._v(" 3.4.3 测试")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107161206764.png",alt:"image-20201107161206764"}})]),s._v(" "),t("h4",{attrs:{id:"_3-4-4-收回"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-4-收回"}},[s._v("#")]),s._v(" 3.4.4 收回")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" Myrole "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user1"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('@"localhost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107161244768.png",alt:"image-20201107161244768"}})]),s._v(" "),t("h4",{attrs:{id:"_3-4-5-测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-5-测试"}},[s._v("#")]),s._v(" 3.4.5 测试")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107161335356.png",alt:"image-20201107161335356"}})]),s._v(" "),t("h2",{attrs:{id:"四、完整性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、完整性"}},[s._v("#")]),s._v(" 四、完整性")]),s._v(" "),t("blockquote",[t("p",[s._v("由于实验三已经充分考虑是数据模型的完整性，所以此次没有修改，主要在于举例验证各类完整性")])]),s._v(" "),t("h3",{attrs:{id:"_4-1-实体完整性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-实体完整性"}},[s._v("#")]),s._v(" 4.1 实体完整性")]),s._v(" "),t("blockquote",[t("p",[s._v("表中的主键不能为空或重复，由于设计数据时所有主键均为自增的ID类型，所以不会为空，这里我尝试插入一个重复的主键。由下图可知执行失败")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201018174008471.png",alt:"image-20201018174008471"}})]),s._v(" "),t("h3",{attrs:{id:"_4-2-参照完整性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-参照完整性"}},[s._v("#")]),s._v(" 4.2 参照完整性")]),s._v(" "),t("blockquote",[t("p",[s._v("外键不能引用不存在的实体，这里我插入"),t("code",[s._v("Session")]),s._v("表记录时引用了"),t("code",[s._v("Messages")]),s._v("中不存在的"),t("code",[s._v("M_ID")]),s._v("为5的数据，由下图可知执行失败")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201018174731616.png",alt:"image-20201018174731616"}})]),s._v(" "),t("h3",{attrs:{id:"_4-3-内容完整性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-内容完整性"}},[s._v("#")]),s._v(" 4.3 内容完整性")]),s._v(" "),t("blockquote",[t("p",[s._v("在定义数据库时，一些字段定义了非空的属性，这里尝试插入时忽略非空的"),t("code",[s._v("U_PassWord")]),s._v("，由下图可知插入失败")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201018174909198.png",alt:"image-20201018174909198"}})]),s._v(" "),t("h3",{attrs:{id:"_4-4-部分完整性约束命名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-部分完整性约束命名"}},[s._v("#")]),s._v(" 4.4 部分完整性约束命名")]),s._v(" "),t("blockquote",[t("p",[s._v("本次实验对聊天模型中重要的"),t("code",[s._v("Users")]),s._v("表和"),t("code",[s._v("Friends")]),s._v("表进行完整性约束命名")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    U_ID "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_NickName    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_PassWord    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_Sex    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_Birthday    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Datetime")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_Telephone    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_Email    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_HeadPortrait     "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_Age    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constraint")]),s._v(" userkey "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("primary")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("U_ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107162704282.png",alt:"image-20201107162704282"}})]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" Friends"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    F_FirendID    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    F_UserID    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  \t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constraint")]),s._v(" friendkey "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("F_FirendID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("F_UserID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107162759903.png",alt:"image-20201107162759903"}})]),s._v(" "),t("h3",{attrs:{id:"_4-5-域完整性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-域完整性"}},[s._v("#")]),s._v(" 4.5 域完整性")]),s._v(" "),t("blockquote",[t("p",[s._v("域完整性约束指的是必须符合某种数据类型或约束，例如唯一、非空等已经在内容完整性中验证，此处验证数据类型的匹配。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.hjxie.icu/image-20201107163045369.png",alt:"image-20201107163045369"}})])])}),[],!1,null,null,null);a.default=r.exports}}]);