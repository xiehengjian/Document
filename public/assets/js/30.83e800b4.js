(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{509:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",[s._v("使用Python作为脚本语言，利用Appium框架对安卓App进行测试化测试")])]),s._v(" "),a("h2",{attrs:{id:"环境搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建"}},[s._v("#")]),s._v(" 环境搭建")]),s._v(" "),a("h3",{attrs:{id:"安装appium"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装appium"}},[s._v("#")]),s._v(" 安装appium")]),s._v(" "),a("p",[s._v("下载地址：https://github.com/appium/appium-desktop/releases/tag/v1.18.0-1")]),s._v(" "),a("h3",{attrs:{id:"安装python客户端库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装python客户端库"}},[s._v("#")]),s._v(" 安装Python客户端库")]),s._v(" "),a("p",[a("code",[s._v("pip3 install appium-python-client")])]),s._v(" "),a("h3",{attrs:{id:"安装jdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装jdk"}},[s._v("#")]),s._v(" 安装JDK")]),s._v(" "),a("p",[s._v("下载地址：https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html")]),s._v(" "),a("h3",{attrs:{id:"安装android-sdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装android-sdk"}},[s._v("#")]),s._v(" 安装Android SDK")]),s._v(" "),a("p",[s._v("下载地址：https://developer.android.com/studio")]),s._v(" "),a("h3",{attrs:{id:"启动appium"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动appium"}},[s._v("#")]),s._v(" 启动appium")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://bbs-upload.marginnote.cn/original/2X/3/31b613e0373b892a7a77a383e1bf26e1b870affb.png",alt:"image-20200815173702983"}})]),s._v(" "),a("h3",{attrs:{id:"配置路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置路径"}},[s._v("#")]),s._v(" 配置路径")]),s._v(" "),a("p",[s._v("点击appium下方的"),a("code",[s._v("Edit Configurations")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://bbs-upload.marginnote.cn/original/2X/0/015903a43c1f83be0155dbf068d10dc1990d5ac3.png",alt:"image-20200815173816004"}})]),s._v(" "),a("p",[s._v("在弹出的窗口中分别填入"),a("code",[s._v("JDK")]),s._v("与"),a("code",[s._v("Android SDK")]),s._v("的安装路径")]),s._v(" "),a("p",[s._v("点击"),a("code",[s._v("Save and Restart")])]),s._v(" "),a("h3",{attrs:{id:"开启服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启服务"}},[s._v("#")]),s._v(" 开启服务")]),s._v(" "),a("p",[s._v("在主页面点击"),a("code",[s._v("Start Server v1.18.0")]),s._v("即可启动服务，接下来您可以开始编写您的测试脚本")]),s._v(" "),a("h2",{attrs:{id:"常用adb命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用adb命令"}},[s._v("#")]),s._v(" 常用ADB命令")]),s._v(" "),a("h3",{attrs:{id:"获取设备列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取设备列表"}},[s._v("#")]),s._v(" 获取设备列表")]),s._v(" "),a("p",[a("code",[s._v("adb devices -l")])]),s._v(" "),a("h3",{attrs:{id:"获取包名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取包名"}},[s._v("#")]),s._v(" 获取包名")]),s._v(" "),a("ul",[a("li",[s._v("设备打开需要获取的页面")]),s._v(" "),a("li",[s._v("终端执行"),a("code",[s._v("adb shell dumpsys window | grep mCurrentFocus")])])]),s._v(" "),a("h2",{attrs:{id:"uiautomatorviewer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uiautomatorviewer"}},[s._v("#")]),s._v(" UIAutomatorViewer")]),s._v(" "),a("blockquote",[a("p",[s._v("UIAutomatorViewer是用来扫描和分析Android应用程序的UI控件的工具")])]),s._v(" "),a("h3",{attrs:{id:"使用步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用步骤"}},[s._v("#")]),s._v(" 使用步骤")]),s._v(" "),a("ol",[a("li",[s._v("进入SDK目录\n"),a("ul",[a("li",[s._v("mac在tool/bin目录下，打开"),a("code",[s._v("uiaotomatorviewer")])]),s._v(" "),a("li",[s._v("windows在tools目录下，打开"),a("code",[s._v("uiautomatorviewer.bat")])])])]),s._v(" "),a("li",[s._v("电脑连接真机或打开模拟器")]),s._v(" "),a("li",[s._v("启动待测试app")]),s._v(" "),a("li",[s._v("点击"),a("code",[s._v("uiautomatorviewer")]),s._v("的左上角"),a("code",[s._v("Device Screenshot")])]),s._v(" "),a("li",[s._v("点击希望查看的控件")]),s._v(" "),a("li",[s._v("查看右下角"),a("code",[s._v("Node Detail")]),s._v("相关信息")])]),s._v(" "),a("h2",{attrs:{id:"脚本编写"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#脚本编写"}},[s._v("#")]),s._v(" 脚本编写")]),s._v(" "),a("h3",{attrs:{id:"webdriver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webdriver"}},[s._v("#")]),s._v(" webdriver")]),s._v(" "),a("h4",{attrs:{id:"引入模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引入模块"}},[s._v("#")]),s._v(" 引入模块")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" appium "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" webdriver\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"配置参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置参数"}},[s._v("#")]),s._v(" 配置参数")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("caps"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"platformName"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Android"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 平台类型：IOS/Android")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"platformVersion"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"10"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#平台版本")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deviceName"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MI_8_SE"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设备名称")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"appPackage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lee.vioson.marginnote"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#package")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"appActivity"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lee.vioson.marginnote.features.main.MainActivity"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Activity")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"启动driver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动driver"}},[s._v("#")]),s._v(" 启动driver")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("driver "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" webdriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Remote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://localhost:4723/wd/hub'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("caps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app"}},[s._v("#")]),s._v(" App")]),s._v(" "),a("h5",{attrs:{id:"启动其他app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动其他app"}},[s._v("#")]),s._v(" 启动其他App")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 脚本内启动其他app")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tappPackage：要打开的程序包名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tappActivity：要打开的程序的界面名")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("start_activity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("appPackage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("appActivity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h5",{attrs:{id:"获取app的信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取app的信息"}},[s._v("#")]),s._v(" 获取App的信息")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取包名")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("current_package\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取界面名")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("current_activity\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h5",{attrs:{id:"关闭app和驱动对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关闭app和驱动对象"}},[s._v("#")]),s._v(" 关闭App和驱动对象")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭App")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close_app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭driver")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("quit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h5",{attrs:{id:"安装与卸载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装与卸载"}},[s._v("#")]),s._v(" 安装与卸载")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装app")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tapp_path:apk路径")]),s._v("\ndiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("install_app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("app_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 卸载app")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tapp_id:应用程序包名,即package名")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("remove_app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("app_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 判断是否安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tapp_id")]),s._v("\ndirver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("is_app_install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("app_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h5",{attrs:{id:"挂后台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#挂后台"}},[s._v("#")]),s._v(" 挂后台")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# app放置到后台一定时间后再回到前台，模拟热启动")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tseconds：后台停留时间")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("background_app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("seconds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元素"}},[s._v("#")]),s._v(" 元素")]),s._v(" "),a("h5",{attrs:{id:"定位元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定位元素"}},[s._v("#")]),s._v(" 定位元素")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过id定位")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tid_value:元素的resource-id属性值")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_element_by_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id_value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_elements_by_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id_value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过class_name定位")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tclass_value:元素的class属性值")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_element_by_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("class_value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_elements_by_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("class_value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过xpath定位")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \txpath_value:元素的xpath表达式")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_element_by_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("xpath_value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_elements_by_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("xpath_value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h5",{attrs:{id:"元素等待"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元素等待"}},[s._v("#")]),s._v(" 元素等待")]),s._v(" "),a("p",[s._v("可能由于一些原因，我们想找的元素没有立刻出现，此时直接定位可能会报错，比如以下原因")]),s._v(" "),a("ul",[a("li",[s._v("由于网络速度原因")]),s._v(" "),a("li",[s._v("服务器处理请求原因")]),s._v(" "),a("li",[s._v("电脑配置原因")])]),s._v(" "),a("p",[s._v("webdriver定位页面元素时如果未找到，会在指定时间内一直等待")]),s._v(" "),a("h6",{attrs:{id:"隐式等待"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#隐式等待"}},[s._v("#")]),s._v(" 隐式等待")]),s._v(" "),a("blockquote",[a("p",[s._v("等待元素加载指定时长，超出时长抛出"),a("code",[s._v("NoSuchElementException")]),s._v("异常")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" selenium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("webdriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wait "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" webDriverWait\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#\t timeout:超时时长，秒")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("implicitly_wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nsearch_button "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_element_by_xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nsearch_button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("click"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h6",{attrs:{id:"显式等待"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显式等待"}},[s._v("#")]),s._v(" 显式等待")]),s._v(" "),a("blockquote",[a("p",[s._v("针对所有定位元素的超时时长设为不同的值")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" selenium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("webdriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wait "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" webDriverWait\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建webDriverWait对象")]),s._v("\nwait "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" WebDriverWait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("poll_frequency"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#总超时为5秒，每一秒尝试一次")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取元素并设置超时时间和频率")]),s._v("\nsearch_button "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("until"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("lambda")]),s._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("find_element_by_xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nsearch_button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("click"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h5",{attrs:{id:"元素操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元素操作"}},[s._v("#")]),s._v(" 元素操作")]),s._v(" "),a("h6",{attrs:{id:"点击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#点击"}},[s._v("#")]),s._v(" 点击")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("click"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h6",{attrs:{id:"输入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输入"}},[s._v("#")]),s._v(" 输入")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tvalue:输入的内容")]),s._v("\nelement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send_keys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h6",{attrs:{id:"清空"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#清空"}},[s._v("#")]),s._v(" 清空")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("clear"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h6",{attrs:{id:"获取文本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取文本"}},[s._v("#")]),s._v(" 获取文本")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("text\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h6",{attrs:{id:"获取元素位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取元素位置"}},[s._v("#")]),s._v(" 获取元素位置")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("location\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h6",{attrs:{id:"获取元素大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取元素大小"}},[s._v("#")]),s._v(" 获取元素大小")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("size\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"屏幕事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#屏幕事件"}},[s._v("#")]),s._v(" 屏幕事件")]),s._v(" "),a("h5",{attrs:{id:"滑动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#滑动"}},[s._v("#")]),s._v(" 滑动")]),s._v(" "),a("h6",{attrs:{id:"swipe滑动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#swipe滑动"}},[s._v("#")]),s._v(" swipe滑动")]),s._v(" "),a("blockquote",[a("p",[s._v("从一个坐标位置滑动到另一个坐标位置，只能是两点之间的滑动")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tstart_x:起点x轴坐标")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tstart_y:起点y轴坐标")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tend_x:终点x轴坐标")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tend_y:终点y轴坐标")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tduration:滑动这个操作持续的时间长度，毫秒")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swipe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("start_x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("strat_y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("end_x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("end_y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("duration"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h6",{attrs:{id:"scroll滑动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scroll滑动"}},[s._v("#")]),s._v(" scroll滑动")]),s._v(" "),a("blockquote",[a("p",[s._v("从一个元素滑动到另一个元素，直到页面自动停止")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \torigin_el:滑动的开始元素")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tdestination_el:滑动的结束元素")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("scroll"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("origin_el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("destination_el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h5",{attrs:{id:"拖拽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拖拽"}},[s._v("#")]),s._v(" 拖拽")]),s._v(" "),a("blockquote",[a("p",[s._v("从一个元素滑动到另一个元素，第二个元素代替第一个元素原本屏幕上的位置")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \torigin_el:滑动的开始元素")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tdestination_el:滑动的结束元素")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("drag_and_drop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("origin_el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("destination_el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"手机操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手机操作"}},[s._v("#")]),s._v(" 手机操作")]),s._v(" "),a("h5",{attrs:{id:"获取分辨率"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取分辨率"}},[s._v("#")]),s._v(" 获取分辨率")]),s._v(" "),a("blockquote",[a("p",[s._v("可能会需要根据当前设备分辨率来计算一些点击或滑动的坐标")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get_window_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"截图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#截图"}},[s._v("#")]),s._v(" 截图")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tfilename:指定路径下，指定格式的图片")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get_screenshot_as_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"获取网络"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取网络"}},[s._v("#")]),s._v(" 获取网络")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("network_connection\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"设置网络"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置网络"}},[s._v("#")]),s._v(" 设置网络")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tconnectionType:网络类型")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("set_network_connection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("connectionType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"模拟按键"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模拟按键"}},[s._v("#")]),s._v(" 模拟按键")]),s._v(" "),a("blockquote",[a("p",[s._v("模拟返回键、Home键等")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tkeycode:关键代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tmetastate:关键代码元信息")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("press_keycode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("keycode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("metastate"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("keyevent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h5",{attrs:{id:"操作通知栏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作通知栏"}},[s._v("#")]),s._v(" 操作通知栏")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开通知栏")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open_notifications"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"touchaction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#touchaction"}},[s._v("#")]),s._v(" TouchAction")]),s._v(" "),a("h4",{attrs:{id:"引入模块-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引入模块-2"}},[s._v("#")]),s._v(" 引入模块")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" appium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("webdriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("common"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("touch_action "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" TouchAction\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"轻敲"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#轻敲"}},[s._v("#")]),s._v(" 轻敲")]),s._v(" "),a("blockquote",[a("p",[s._v("模拟手指对某个元素或坐标按下并快速抬起")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \telement:元素")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tx:x坐标")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \ty:y坐标")]),s._v("\nTouchAction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("element"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("y"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("perform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"按下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#按下"}},[s._v("#")]),s._v(" 按下")]),s._v(" "),a("blockquote",[a("p",[s._v("模拟手指一直按下")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tel:元素")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tx:x坐标")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \ty:y坐标")]),s._v("\nTouchAction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("press"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("el"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("y"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("perform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"抬起"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#抬起"}},[s._v("#")]),s._v(" 抬起")]),s._v(" "),a("blockquote",[a("p",[s._v("模拟手指抬起")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tel:元素")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tx:x坐标")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \ty:y坐标")]),s._v("\nTouchAction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("release"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("perform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"等待"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#等待"}},[s._v("#")]),s._v(" 等待")]),s._v(" "),a("blockquote",[a("p",[s._v("模拟手指等待，如按下后等待5秒后抬起")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tms:暂停的毫秒")]),s._v("\nTouchAction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ms"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("perform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"长按"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#长按"}},[s._v("#")]),s._v(" 长按")]),s._v(" "),a("blockquote",[a("p",[s._v("模拟手指长按")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tel:元素")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tx:x坐标")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \ty:y坐标")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tduration:长按时间，毫秒")]),s._v("\nTouchAction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("long_press"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("el"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("y"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("duration"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("perform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"移动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移动"}},[s._v("#")]),s._v(" 移动")]),s._v(" "),a("blockquote",[a("p",[s._v("模拟手指移动操作")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tel:元素")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \tx:x坐标")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \ty:y坐标")]),s._v("\nTouchAction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("move_to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("el"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("y"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("perform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"appium原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#appium原理"}},[s._v("#")]),s._v(" Appium原理")]),s._v(" "),a("h3",{attrs:{id:"启动过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动过程"}},[s._v("#")]),s._v(" 启动过程")]),s._v(" "),a("blockquote",[a("p",[s._v("appium的启动实际上是在本机使用了4723端口开启了一个服务")])]),s._v(" "),a("ol",[a("li",[s._v("我们写的python代码会访问本机的appium服务器，并获取driver对象")]),s._v(" "),a("li",[s._v("appium会将我们的driver对象调用的方法转换成post请求，提交给appium服务器")]),s._v(" "),a("li",[s._v("appium通过接收到的post请求发送给手机，再由手机进行执行")])])])}),[],!1,null,null,null);t.default=e.exports}}]);