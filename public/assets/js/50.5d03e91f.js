(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{530:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"三级模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三级模式"}},[s._v("#")]),s._v(" 三级模式")]),s._v(" "),a("h3",{attrs:{id:"模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模式"}},[s._v("#")]),s._v(" 模式")]),s._v(" "),a("p",[s._v("介于用户级和物理级之间，是所有用户的公共数据视图(全局的数据视图)，是数据库管理员看到和使用的数据库，一个数据库只存在一个DBA视图，即一个数据库只有一个模式")]),s._v(" "),a("h3",{attrs:{id:"外模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外模式"}},[s._v("#")]),s._v(" 外模式")]),s._v(" "),a("p",[s._v("最接近用户的一级数据库，是用户看到和使用的==局部数据==的逻辑结构和特征的描述，又称为用户视图。外模式是模式的子集，一个数据库可以用多个外模式")]),s._v(" "),a("h3",{attrs:{id:"内模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内模式"}},[s._v("#")]),s._v(" 内模式")]),s._v(" "),a("p",[s._v("内模式也称为存储模式，是数据物理结构和存储方式的藐视，一个数据库只有一个内模式")]),s._v(" "),a("h2",{attrs:{id:"两级映像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#两级映像"}},[s._v("#")]),s._v(" 两级映像")]),s._v(" "),a("h3",{attrs:{id:"外模式-模式映像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外模式-模式映像"}},[s._v("#")]),s._v(" 外模式/模式映像")]),s._v(" "),a("p",[s._v("在外模式和模式之间存在外模式/模式映像，用于定义外模式和模式之间的对应关系")]),s._v(" "),a("p",[s._v("一个模式有多个外模式，每一个外模式，数据库系统都有一个外模式/模式映像")]),s._v(" "),a("p",[s._v("外模式/模式映像通常包含在各自外模式的描述中")]),s._v(" "),a("h3",{attrs:{id:"模式-内模式映像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模式-内模式映像"}},[s._v("#")]),s._v(" 模式/内模式映像")]),s._v(" "),a("p",[s._v("在模式和内模式之间存在模式/内模式映像，用于定义模式和内模式之间的对应性。定义了数据库全局逻辑结构和存储结构之间的对应关系。")]),s._v(" "),a("p",[s._v("数据库只有一个模式，也只有一个内模式，所以模式/内模式映像是唯一的。")]),s._v(" "),a("p",[s._v("模式/内模式映像通常包含在模式描述中")]),s._v(" "),a("h2",{attrs:{id:"数据模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据模式"}},[s._v("#")]),s._v(" 数据模式")]),s._v(" "),a("blockquote",[a("p",[s._v("实体型：具有相同属性的实体必然的特征，例如学生（学号，性别，出生年月）")]),s._v(" "),a("p",[s._v("属性:对实体某一特征的描述")])]),s._v(" "),a("p",[s._v("在微信用户及聊天群聊天业务模型中，所涉及到的所有实体型如下")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("用户(账号，昵称，密码，性别，生日，电话，邮箱，头像，年龄)")])]),s._v(" "),a("li",[a("p",[s._v("好友(账号，备注，所属好友ID)")])]),s._v(" "),a("li",[a("p",[s._v("消息(消息ID，内容，状态，时间，类型，发送者，接收者)")])]),s._v(" "),a("li",[a("p",[s._v("群聊(群ID，名称，创建时间，群主，图标)")])]),s._v(" "),a("li",[a("p",[s._v("会话(会话ID，发送者ID，接收者ID，类型，最后消息ID)")])])]),s._v(" "),a("h2",{attrs:{id:"数据建立"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据建立"}},[s._v("#")]),s._v(" 数据建立")]),s._v(" "),a("p",[s._v("使用sql脚本在MySQL中建立实体型所对应的几个表，并向其中插入数据。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--build&insert.sql")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" MyIM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" MyIM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" Users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    U_ID "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("primary")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_NickName    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_PassWord    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_Sex    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_Birthday    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Datetime")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_Telephone    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_Email    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_HeadPortrait     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    U_Age    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" Users \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("U_ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_NickName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_PassWord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Sex "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Birthday"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Telephone  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Email "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("U_Age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18221023")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xiehengjian'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1999-05-05'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'13195529212'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'18221023@bjtu.edu.cn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18221024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zhangsan'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1999-05-06'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'13195529213'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'18221024@bjtu.edu.cn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18221025")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lisi'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1999-05-07'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'13195529214'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'18221025@bjtu.edu.cn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" Friends"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    F_ID    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("primary")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    F_FirendID    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    F_Name    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    F_UserID    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" Friends\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("F_FirendID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("F_Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("F_UserID "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18221024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zhangsan'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18221023")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" Messages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n   M_ID    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("primary")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   M_PostMessages    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   M_status    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   M_Time    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Datetime")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   M_MessagesTypeID    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   M_FromUserID     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   M_ToUserID     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v("   \n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" Messages\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M_ID "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("M_PostMessages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("M_status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("M_Time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("M_MessagesTypeID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("M_FromUserID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("M_ToUserID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2020-10-1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18221024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18221024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" User_Groups"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    UG_ID    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("primary")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  \n    UG_Name    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    UG_CreateTime    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Datetime")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    UG_AdminID    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    UG_ICon    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" User_Groups\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("UG_Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("UG_CreateTime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("UG_AdminID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mygroup"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2020-10-1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18221023")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    S_ID "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("primary")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  \n   S_FromUserID     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   S_TypeID "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   S_FinalMessageID "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   S_ToUserID     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Int")]),s._v("   \n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Session")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S_TypeID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("S_FromUserID "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("S_ToUserID "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("S_FinalMessageID "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18221024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10221023")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br")])]),a("p",[s._v("进入MySQL并执行脚本")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://img.hjxie.icu/image-20201007205541313.png",alt:"image-20201007205541313"}})]),s._v(" "),a("p",[s._v("查看表中数据")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://img.hjxie.icu/image-20201007205922822.png",alt:"image-20201007205922822"}})]),s._v(" "),a("h2",{attrs:{id:"原型设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原型设计"}},[s._v("#")]),s._v(" 原型设计")]),s._v(" "),a("p",[s._v("参考微信的UI设计，设计了==会话页==与==聊天页==两个用户界面。")]),s._v(" "),a("p",[s._v("使用工具为"),a("code",[s._v("Axure Pro 9")]),s._v("，所用图标来自于"),a("a",{attrs:{href:"https://www.iconfont.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Iconfont"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{attrs:{src:"http://img.hjxie.icu/image-20201007202249392.png",alt:"image-20201007202249392"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"http://img.hjxie.icu/image-20201007202304491.png",alt:"image-20201007202304491"}})]),s._v(" "),a("h2",{attrs:{id:"数据规模估算"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据规模估算"}},[s._v("#")]),s._v(" 数据规模估算")]),s._v(" "),a("p",[s._v("由于即时通讯业务中存储的如会话和消息等数据的增长速度非常快，相比之下用户与群组等数据可以忽略不计，平均每人发送消息可达100条/天，一百万日活的即时通讯软件每天处理数据记录可达一亿，对于这种大规模的数据存储，对于大型的表，或者包含大量重复文本或数值数据的表，应该考虑使用 COMPRESSED(压缩的) 行格式。这样只需要较少的 I/O 就可以把数据取到缓冲池，或执行全表扫描。考虑使用 OPTIMIZE TABLE 语句重新组织表并压缩浪费的空间。对重新组织后的表进行全表扫描所需要的 I/O 会更少。")])])}),[],!1,null,null,null);t.default=e.exports}}]);